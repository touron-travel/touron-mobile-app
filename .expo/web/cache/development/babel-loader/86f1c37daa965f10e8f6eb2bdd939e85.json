{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/aravshrimath/Documents/Mobile Application/touron-mobile-app/src/Screens/AccountScreens/VisaDetailsScreen.js\";\nimport React, { useEffect, useState, useContext } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { DataTable, Surface } from \"react-native-paper\";\nvar WIDTH = Dimensions.get(\"window\").width;\nimport touron from \"../../api/touron\";\nimport { Feather, FontAwesome } from \"@expo/vector-icons\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport * as firebase from \"firebase\";\nvar HEIGHT = Dimensions.get(\"window\").height;\n\nvar VisaDetailsScreen = function VisaDetailsScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      visa = _useState2[0],\n      setVisa = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      visaName = _useState4[0],\n      setVisaName = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      notificationMessage = _useState6[0],\n      setNotificationMessage = _useState6[1];\n\n  var _useContext = useContext(AuthContext),\n      user = _useContext.user;\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      isAdmin = _useState8[0],\n      setIsAdmin = _useState8[1];\n\n  var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      step = _useState10[0],\n      setStep = _useState10[1];\n\n  var _useState11 = useState({}),\n      _useState12 = _slicedToArray(_useState11, 2),\n      visaData = _useState12[0],\n      setVisaData = _useState12[1];\n\n  console.log(user, \"manivasagam\");\n\n  var _useState13 = useState([]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      visaRequest = _useState14[0],\n      setVisaRequest = _useState14[1];\n\n  console.log(isAdmin, \"status\");\n\n  var getUserData = function getUserData() {\n    if (user !== null) {\n      firebase.database().ref(\"userGeneralInfo/\" + user.uid).on(\"value\", function (data) {\n        if (data.val() !== null) {\n          var val = data.val();\n          setIsAdmin(val.admin);\n        }\n      });\n    }\n  };\n\n  var getVisaRequests = function getVisaRequests(value) {\n    var request = [];\n    firebase.database().ref(\"visaSubmission/\").on(\"value\", function (data) {\n      if (data) {\n        data.forEach(function (c) {\n          request.push(c.val());\n        });\n      }\n    });\n    setVisaRequest(request);\n  };\n\n  useEffect(function () {\n    getUserData();\n    getVisaRequests();\n  }, []);\n\n  var search = function search() {\n    if (visa.length > 0) {\n      var d = visa.filter(function (c) {\n        return c.countryName.trim().toUpperCase().includes(visaName.trim().toUpperCase());\n      });\n      return d;\n    }\n  };\n\n  var getExpoToken = function getExpoToken(userId) {\n    var token = \"\";\n    firebase.database().ref(\"userGeneralInfo/\" + userId).on(\"value\", function (data) {\n      if (data.val() !== null) {\n        var val = data.val();\n        token = val.pushNotificationToken;\n      }\n    });\n    return token;\n  };\n\n  var sendPushNotification = function sendPushNotification(expoToken) {\n    var messages;\n    return _regeneratorRuntime.async(function sendPushNotification$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log(expoToken, \"messag\");\n            messages = {\n              to: expoToken,\n              sound: \"default\",\n              title: \"Visa Details Info\",\n              body: notificationMessage\n            };\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(fetch(\"https://exp.host/--/api/v2/push/send\", {\n              method: \"POST\",\n              headers: {\n                Accept: \"application/json\",\n                \"Accept-encoding\": \"gzip, deflate\",\n                \"Content-Type\": \"application/json\"\n              },\n              body: JSON.stringify(messages)\n            }));\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var getVisaDetails = function getVisaDetails() {\n    var visaResponse;\n    return _regeneratorRuntime.async(function getVisaDetails$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(touron.get(\"/visa\"));\n\n          case 2:\n            visaResponse = _context2.sent;\n            setVisa(visaResponse.data);\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    var mounted = true;\n\n    if (mounted) {\n      getVisaDetails();\n    }\n\n    return function () {\n      return mounted = false;\n    };\n  }, []);\n\n  var renderVisaForm = function renderVisaForm() {\n    switch (step) {\n      case 0:\n        return React.createElement(View, {\n          style: {\n            backgroundColor: \"white\",\n            flex: 1\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 11\n          }\n        }, React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            return navigation.toggleDrawer();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }\n        }, React.createElement(View, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 15\n          }\n        }, React.createElement(Feather, {\n          name: \"arrow-left\",\n          size: 28,\n          color: \"black\",\n          style: {\n            paddingHorizontal: 20,\n            paddingTop: Platform.OS === \"ios\" ? 50 : 10\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 17\n          }\n        }))), React.createElement(View, {\n          style: {\n            alignItems: \"center\",\n            marginHorizontal: 30,\n            marginVertical: 30\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }\n        }, React.createElement(Image, {\n          style: {\n            height: HEIGHT / 5,\n            width: HEIGHT / 5,\n            marginTop: 10\n          },\n          source: require(\"../../../assets/playstore.png\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }\n        }), React.createElement(Text, {\n          style: {\n            marginTop: 20,\n            fontSize: 16,\n            fontFamily: \"Avenir\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 15\n          }\n        }, \"Admin : \", user.email), React.createElement(View, {\n          style: {\n            flexDirection: \"row\",\n            alignItems: \"center\",\n            marginTop: 20\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 15\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontSize: 16,\n            fontFamily: \"Avenir\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 17\n          }\n        }, \"Status :\"), React.createElement(FontAwesome, {\n          name: \"circle\",\n          size: 20,\n          color: \"#7bed9f\",\n          style: {\n            marginLeft: WIDTH / 10\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 17\n          }\n        }), React.createElement(Text, {\n          style: {\n            fontSize: 16,\n            fontFamily: \"Avenir\",\n            marginHorizontal: 10\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 17\n          }\n        }, \"Online\"))), React.createElement(DataTable, {\n          style: {\n            width: WIDTH\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }\n        }, React.createElement(DataTable.Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }\n        }, React.createElement(DataTable.Title, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 17\n          }\n        }, \"Country\"), React.createElement(DataTable.Title, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 17\n          }\n        }, \"Name\"), React.createElement(DataTable.Title, {\n          numeric: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 17\n          }\n        }, \"Phone Number\")), React.createElement(FlatList, {\n          data: visaRequest,\n          keyExtractor: function keyExtractor(item, index) {\n            return index.toString();\n          },\n          renderItem: function renderItem(_ref2) {\n            var item = _ref2.item;\n            return React.createElement(TouchableOpacity, {\n              onPress: function onPress() {\n                setVisaData(item);\n                setStep(1);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 21\n              }\n            }, React.createElement(DataTable.Row, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 23\n              }\n            }, React.createElement(DataTable.Cell, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 25\n              }\n            }, item.countryName), React.createElement(DataTable.Cell, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 25\n              }\n            }, item.name), React.createElement(DataTable.Cell, {\n              numeric: true,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 25\n              }\n            }, React.createElement(Text, {\n              style: {\n                fontSize: 15,\n                fontFamily: \"Andika\"\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 27\n              }\n            }, item.phoneNumber))));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 15\n          }\n        }), React.createElement(DataTable.Pagination, {\n          page: 1,\n          numberOfPages: 1,\n          onPageChange: function onPageChange(page) {\n            return console.log(page);\n          },\n          label: 1 + \"-\" + 5 + \" of \" + visaRequest.length,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 15\n          }\n        })));\n\n      case 1:\n        return React.createElement(React.Fragment, null, visaFormInner(visaData));\n    }\n  };\n\n  var visaFormInner = function visaFormInner(data) {\n    return React.createElement(View, {\n      style: {\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        flex: 1,\n        backgroundColor: \"#34495e\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 7\n      }\n    }, React.createElement(Surface, {\n      style: {\n        backgroundColor: \"white\",\n        padding: 30,\n        alignItems: \"center\",\n        borderRadius: 30,\n        elevation: 100,\n        shadowColor: \"#7ed6df\",\n        shadowOpacity: 3\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }\n    }, React.createElement(View, {\n      style: styles.inputContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: {\n        fontSize: 30,\n        fontFamily: \"Avenir\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 13\n      }\n    }, \" \", \"Visa Details of \", data.name, \" \")), React.createElement(View, {\n      style: styles.inputContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: styles.text,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 13\n      }\n    }, \"Name : \"), React.createElement(Text, {\n      style: styles.text,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 13\n      }\n    }, data.name)), React.createElement(View, {\n      style: styles.inputContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: styles.text,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 13\n      }\n    }, \"Country Name : \"), React.createElement(Text, {\n      style: styles.text,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 13\n      }\n    }, data.countryName)), React.createElement(View, {\n      style: styles.inputContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: styles.text,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 13\n      }\n    }, \"Phone Number: \"), React.createElement(Text, {\n      style: styles.text,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 13\n      }\n    }, data.phoneNumber)), React.createElement(View, {\n      style: styles.inputContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: styles.text,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 13\n      }\n    }, \"Travel Month: \"), React.createElement(Text, {\n      style: styles.text,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 13\n      }\n    }, data.travelMonth)), React.createElement(View, {\n      style: styles.inputContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 11\n      }\n    }, React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return setStep(0);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      style: styles.button,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 15\n      }\n    }, \"Back\"))), React.createElement(View, {\n      style: {\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        width: WIDTH,\n        justifyContent: \"space-around\",\n        padding: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 13\n      }\n    }, \"Message :\"), React.createElement(TextInput, {\n      style: {\n        width: WIDTH / 2,\n        borderColor: \"#34495e\",\n        borderRadius: 4,\n        borderWidth: 1.5\n      },\n      multiline: true,\n      onChangeText: function onChangeText(value) {\n        return setNotificationMessage(value);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 13\n      }\n    })), React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        var token = getExpoToken(data.userID);\n        sendPushNotification(token);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 11\n      }\n    }, React.createElement(View, {\n      style: {\n        padding: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      style: styles.button,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 15\n      }\n    }, \"Send Notification Message\")))));\n  };\n\n  return React.createElement(React.Fragment, null, isAdmin ? React.createElement(React.Fragment, null, renderVisaForm()) : React.createElement(View, {\n    animation: \"bounceIn\",\n    duration: 3000,\n    style: {\n      flex: 1,\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      backgroundColor: \"white\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: {\n      marginTop: HEIGHT / 14,\n      width: WIDTH,\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 11\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.toggleDrawer();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: {\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 15\n    }\n  }, React.createElement(Feather, {\n    name: \"arrow-left\",\n    size: 28,\n    color: \"black\",\n    style: {\n      paddingHorizontal: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 17\n    }\n  }))), React.createElement(Text, {\n    style: {\n      fontSize: 16,\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 13\n    }\n  }, \"Select the Country you are Travelling\")), React.createElement(View, {\n    style: styles.background,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 11\n    }\n  }, React.createElement(Feather, {\n    name: \"search\",\n    style: styles.iconStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 13\n    }\n  }), React.createElement(TextInput, {\n    style: styles.inputStyle,\n    placeholder: \"Search\",\n    onChangeText: function onChangeText(value) {\n      return setVisaName(value);\n    },\n    onSubmitEditing: search,\n    autoCapitalize: \"none\",\n    autoCorrect: false,\n    keyboardType: \"email-address\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 13\n    }\n  })), React.createElement(FlatList, {\n    data: search(),\n    keyExtractor: function keyExtractor(item) {\n      return item._id;\n    },\n    showsVerticalScrollIndicator: false,\n    numColumns: 3,\n    renderItem: function renderItem(_ref3) {\n      var item = _ref3.item;\n      return React.createElement(View, {\n        style: {\n          alignItems: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 19\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigation.navigate(\"VisaInner\", {\n            item: item\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 21\n        }\n      }, React.createElement(Image, {\n        style: styles.cityImage,\n        source: {\n          uri: item.imageUrl\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 23\n        }\n      })), React.createElement(Text, {\n        style: {\n          textAlign: \"center\",\n          marginBottom: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 21\n        }\n      }, item.countryName)));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 11\n    }\n  })));\n};\n\nvar styles = new StyleSheet.create({\n  cityImage: {\n    width: 100,\n    height: 100,\n    margin: 10,\n    marginTop: 20,\n    borderRadius: 100\n  },\n  background: {\n    backgroundColor: \"#fff\",\n    height: HEIGHT / 15,\n    borderRadius: 20,\n    flexDirection: \"row\",\n    marginTop: 20,\n    marginHorizontal: WIDTH / 18\n  },\n  inputStyle: {\n    fontSize: 18,\n    flex: 1\n  },\n  iconStyle: {\n    fontSize: 30,\n    alignSelf: \"center\",\n    marginHorizontal: 15\n  },\n  inputContainer: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    marginVertical: 20\n  },\n  text: {\n    fontSize: 17,\n    fontFamily: \"Andika\",\n    textAlign: \"left\"\n  },\n  text1: {\n    fontSize: 14,\n    fontFamily: \"Andika\"\n  },\n  button: {\n    backgroundColor: \"#34495e\",\n    paddingVertical: 13,\n    paddingHorizontal: 20,\n    color: \"white\",\n    fontSize: 18,\n    fontFamily: \"WSansl\",\n    borderRadius: 20\n  }\n});\nexport default VisaDetailsScreen;","map":{"version":3,"sources":["/Users/aravshrimath/Documents/Mobile Application/touron-mobile-app/src/Screens/AccountScreens/VisaDetailsScreen.js"],"names":["React","useEffect","useState","useContext","DataTable","Surface","WIDTH","Dimensions","get","width","touron","Feather","FontAwesome","AuthContext","firebase","HEIGHT","height","VisaDetailsScreen","navigation","visa","setVisa","visaName","setVisaName","notificationMessage","setNotificationMessage","user","isAdmin","setIsAdmin","step","setStep","visaData","setVisaData","console","log","visaRequest","setVisaRequest","getUserData","database","ref","uid","on","data","val","admin","getVisaRequests","value","request","forEach","c","push","search","length","d","filter","countryName","trim","toUpperCase","includes","getExpoToken","userId","token","pushNotificationToken","sendPushNotification","expoToken","messages","to","sound","title","body","fetch","method","headers","Accept","JSON","stringify","getVisaDetails","visaResponse","mounted","renderVisaForm","backgroundColor","flex","toggleDrawer","paddingHorizontal","paddingTop","Platform","OS","alignItems","marginHorizontal","marginVertical","marginTop","require","fontSize","fontFamily","email","flexDirection","marginLeft","item","index","toString","name","phoneNumber","page","visaFormInner","justifyContent","padding","borderRadius","elevation","shadowColor","shadowOpacity","styles","inputContainer","text","travelMonth","button","borderColor","borderWidth","userID","background","iconStyle","inputStyle","_id","navigate","cityImage","uri","imageUrl","textAlign","marginBottom","StyleSheet","create","margin","alignSelf","text1","paddingVertical","color"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,UAArC,QAAuD,OAAvD;;;;;;;;;;;AAcA,SAASC,SAAT,EAAoBC,OAApB,QAAmC,oBAAnC;AACA,IAAMC,KAAK,GAAGC,UAAU,CAACC,GAAX,CAAe,QAAf,EAAyBC,KAAvC;AACA,OAAOC,MAAP;AACA,SAASC,OAAT,EAAkBC,WAAlB,QAAqC,oBAArC;AACA,SAASC,WAAT;AACA,OAAO,KAAKC,QAAZ,MAA0B,UAA1B;AAEA,IAAMC,MAAM,GAAGR,UAAU,CAACC,GAAX,CAAe,QAAf,EAAyBQ,MAAxC;;AACA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,OAAoB;AAAA,MAAjBC,UAAiB,QAAjBA,UAAiB;;AAAA,kBACpBhB,QAAQ,CAAC,EAAD,CADY;AAAA;AAAA,MACrCiB,IADqC;AAAA,MAC/BC,OAD+B;;AAAA,mBAEZlB,QAAQ,CAAC,EAAD,CAFI;AAAA;AAAA,MAErCmB,QAFqC;AAAA,MAE3BC,WAF2B;;AAAA,mBAGUpB,QAAQ,CAAC,EAAD,CAHlB;AAAA;AAAA,MAGrCqB,mBAHqC;AAAA,MAGhBC,sBAHgB;;AAAA,oBAI3BrB,UAAU,CAACU,WAAD,CAJiB;AAAA,MAIpCY,IAJoC,eAIpCA,IAJoC;;AAAA,mBAKdvB,QAAQ,CAAC,KAAD,CALM;AAAA;AAAA,MAKrCwB,OALqC;AAAA,MAK5BC,UAL4B;;AAAA,mBAMpBzB,QAAQ,CAAC,CAAD,CANY;AAAA;AAAA,MAMrC0B,IANqC;AAAA,MAM/BC,OAN+B;;AAAA,oBAOZ3B,QAAQ,CAAC,EAAD,CAPI;AAAA;AAAA,MAOrC4B,QAPqC;AAAA,MAO3BC,WAP2B;;AAS5CC,EAAAA,OAAO,CAACC,GAAR,CAAYR,IAAZ,EAAkB,aAAlB;;AAT4C,oBAUNvB,QAAQ,CAAC,EAAD,CAVF;AAAA;AAAA,MAUrCgC,WAVqC;AAAA,MAUxBC,cAVwB;;AAW5CH,EAAAA,OAAO,CAACC,GAAR,CAAYP,OAAZ,EAAqB,QAArB;;AAIA,MAAMU,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxB,QAAIX,IAAI,KAAK,IAAb,EAAmB;AACjBX,MAAAA,QAAQ,CACLuB,QADH,GAEGC,GAFH,sBAE0Bb,IAAI,CAACc,GAF/B,EAGGC,EAHH,CAGM,OAHN,EAGe,UAACC,IAAD,EAAU;AACrB,YAAIA,IAAI,CAACC,GAAL,OAAe,IAAnB,EAAyB;AACvB,cAAIA,GAAG,GAAGD,IAAI,CAACC,GAAL,EAAV;AACAf,UAAAA,UAAU,CAACe,GAAG,CAACC,KAAL,CAAV;AACD;AACF,OARH;AASD;AACF,GAZD;;AAcA,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AACjC,QAAIC,OAAO,GAAG,EAAd;AACAhC,IAAAA,QAAQ,CACLuB,QADH,GAEGC,GAFH,oBAGGE,EAHH,CAGM,OAHN,EAGe,UAACC,IAAD,EAAU;AAErB,UAAIA,IAAJ,EAAU;AACRA,QAAAA,IAAI,CAACM,OAAL,CAAa,UAACC,CAAD,EAAO;AAClBF,UAAAA,OAAO,CAACG,IAAR,CAAaD,CAAC,CAACN,GAAF,EAAb;AACD,SAFD;AAGD;AACF,KAVH;AAYAP,IAAAA,cAAc,CAACW,OAAD,CAAd;AAED,GAhBD;;AAkBA7C,EAAAA,SAAS,CAAC,YAAM;AACdmC,IAAAA,WAAW;AACXQ,IAAAA,eAAe;AAChB,GAHQ,EAGN,EAHM,CAAT;;AAIA,MAAMM,MAAM,GAAG,SAATA,MAAS,GAAM;AACnB,QAAI/B,IAAI,CAACgC,MAAL,GAAc,CAAlB,EAAqB;AACnB,UAAMC,CAAC,GAAGjC,IAAI,CAACkC,MAAL,CAAY,UAACL,CAAD,EAAO;AAC3B,eAAOA,CAAC,CAACM,WAAF,CACJC,IADI,GAEJC,WAFI,GAGJC,QAHI,CAGKpC,QAAQ,CAACkC,IAAT,GAAgBC,WAAhB,EAHL,CAAP;AAID,OALS,CAAV;AAMA,aAAOJ,CAAP;AACD;AACF,GAVD;;AAYA,MAAMM,YAAY,GAAG,SAAfA,YAAe,CAACC,MAAD,EAAY;AAE/B,QAAIC,KAAK,GAAG,EAAZ;AACA9C,IAAAA,QAAQ,CACLuB,QADH,GAEGC,GAFH,sBAE0BqB,MAF1B,EAGGnB,EAHH,CAGM,OAHN,EAGe,UAACC,IAAD,EAAU;AACrB,UAAIA,IAAI,CAACC,GAAL,OAAe,IAAnB,EAAyB;AACvB,YAAIA,GAAG,GAAGD,IAAI,CAACC,GAAL,EAAV;AAEAkB,QAAAA,KAAK,GAAGlB,GAAG,CAACmB,qBAAZ;AACD;AACF,KATH;AAYA,WAAOD,KAAP;AACD,GAhBD;;AAwBA,MAAME,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAOC,SAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAC3B/B,YAAAA,OAAO,CAACC,GAAR,CAAY8B,SAAZ,EAAuB,QAAvB;AACMC,YAAAA,QAFqB,GAEV;AACfC,cAAAA,EAAE,EAAEF,SADW;AAEfG,cAAAA,KAAK,EAAE,SAFQ;AAGfC,cAAAA,KAAK,EAAE,mBAHQ;AAIfC,cAAAA,IAAI,EAAE7C;AAJS,aAFU;AAAA;AAAA,6CAWrB8C,KAAK,CAAC,sCAAD,EAAyC;AAClDC,cAAAA,MAAM,EAAE,MAD0C;AAElDC,cAAAA,OAAO,EAAE;AACPC,gBAAAA,MAAM,EAAE,kBADD;AAEP,mCAAmB,eAFZ;AAGP,gCAAgB;AAHT,eAFyC;AAOlDJ,cAAAA,IAAI,EAAEK,IAAI,CAACC,SAAL,CAAeV,QAAf;AAP4C,aAAzC,CAXgB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA7B;;AAsBA,MAAMW,cAAc,GAAG,SAAjBA,cAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACMjE,MAAM,CAACF,GAAP,CAAW,OAAX,CADN;;AAAA;AACfoE,YAAAA,YADe;AAErBxD,YAAAA,OAAO,CAACwD,YAAY,CAACnC,IAAd,CAAP;;AAFqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAvB;;AAKAxC,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI4E,OAAO,GAAG,IAAd;;AACA,QAAIA,OAAJ,EAAa;AACXF,MAAAA,cAAc;AACf;;AACD,WAAO;AAAA,aAAOE,OAAO,GAAG,KAAjB;AAAA,KAAP;AACD,GANQ,EAMN,EANM,CAAT;;AAQA,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC3B,YAAQlD,IAAR;AACE,WAAK,CAAL;AACE,eACE,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAE;AAAEmD,YAAAA,eAAe,EAAE,OAAnB;AAA4BC,YAAAA,IAAI,EAAE;AAAlC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,gBAAD;AAAkB,UAAA,OAAO,EAAE;AAAA,mBAAM9D,UAAU,CAAC+D,YAAX,EAAN;AAAA,WAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,OAAD;AACE,UAAA,IAAI,EAAC,YADP;AAEE,UAAA,IAAI,EAAE,EAFR;AAGE,UAAA,KAAK,EAAC,OAHR;AAIE,UAAA,KAAK,EAAE;AACLC,YAAAA,iBAAiB,EAAE,EADd;AAELC,YAAAA,UAAU,EAAEC,QAAQ,CAACC,EAAT,KAAgB,KAAhB,GAAwB,EAAxB,GAA6B;AAFpC,WAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADF,CADF,EAcE,oBAAC,IAAD;AACE,UAAA,KAAK,EAAE;AACLC,YAAAA,UAAU,EAAE,QADP;AAELC,YAAAA,gBAAgB,EAAE,EAFb;AAGLC,YAAAA,cAAc,EAAE;AAHX,WADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAOE,oBAAC,KAAD;AACE,UAAA,KAAK,EAAE;AACLxE,YAAAA,MAAM,EAAED,MAAM,GAAG,CADZ;AAELN,YAAAA,KAAK,EAAEM,MAAM,GAAG,CAFX;AAGL0E,YAAAA,SAAS,EAAE;AAHN,WADT;AAME,UAAA,MAAM,EAAEC,OAAO,iCANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAPF,EAgBE,oBAAC,IAAD;AACE,UAAA,KAAK,EAAE;AAAED,YAAAA,SAAS,EAAE,EAAb;AAAiBE,YAAAA,QAAQ,EAAE,EAA3B;AAA+BC,YAAAA,UAAU,EAAE;AAA3C,WADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAGWnE,IAAI,CAACoE,KAHhB,CAhBF,EAqBE,oBAAC,IAAD;AACE,UAAA,KAAK,EAAE;AACLC,YAAAA,aAAa,EAAE,KADV;AAELR,YAAAA,UAAU,EAAE,QAFP;AAGLG,YAAAA,SAAS,EAAE;AAHN,WADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAOE,oBAAC,IAAD;AACE,UAAA,KAAK,EAAE;AACLE,YAAAA,QAAQ,EAAE,EADL;AAELC,YAAAA,UAAU,EAAE;AAFP,WADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAPF,EAeE,oBAAC,WAAD;AACE,UAAA,IAAI,EAAC,QADP;AAEE,UAAA,IAAI,EAAE,EAFR;AAGE,UAAA,KAAK,EAAC,SAHR;AAIE,UAAA,KAAK,EAAE;AACLG,YAAAA,UAAU,EAAEzF,KAAK,GAAG;AADf,WAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAfF,EAuBE,oBAAC,IAAD;AACE,UAAA,KAAK,EAAE;AACLqF,YAAAA,QAAQ,EAAE,EADL;AAELC,YAAAA,UAAU,EAAE,QAFP;AAGLL,YAAAA,gBAAgB,EAAE;AAHb,WADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAvBF,CArBF,CAdF,EAsEE,oBAAC,SAAD;AAAW,UAAA,KAAK,EAAE;AAAE9E,YAAAA,KAAK,EAAEH;AAAT,WAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,SAAD,CAAW,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,SAAD,CAAW,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAEE,oBAAC,SAAD,CAAW,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,EAGE,oBAAC,SAAD,CAAW,KAAX;AAAiB,UAAA,OAAO,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAHF,CADF,EAOE,oBAAC,QAAD;AACE,UAAA,IAAI,EAAE4B,WADR;AAEE,UAAA,YAAY,EAAE,sBAAC8D,IAAD,EAAOC,KAAP;AAAA,mBAAiBA,KAAK,CAACC,QAAN,EAAjB;AAAA,WAFhB;AAGE,UAAA,UAAU,EAAE,2BAAc;AAAA,gBAAXF,IAAW,SAAXA,IAAW;AAExB,mBACE,oBAAC,gBAAD;AACE,cAAA,OAAO,EAAE,mBAAM;AACbjE,gBAAAA,WAAW,CAACiE,IAAD,CAAX;AACAnE,gBAAAA,OAAO,CAAC,CAAD,CAAP;AACD,eAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAME,oBAAC,SAAD,CAAW,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACE,oBAAC,SAAD,CAAW,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAiBmE,IAAI,CAAC1C,WAAtB,CADF,EAEE,oBAAC,SAAD,CAAW,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAiB0C,IAAI,CAACG,IAAtB,CAFF,EAGE,oBAAC,SAAD,CAAW,IAAX;AAAgB,cAAA,OAAO,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACE,oBAAC,IAAD;AACE,cAAA,KAAK,EAAE;AACLR,gBAAAA,QAAQ,EAAE,EADL;AAELC,gBAAAA,UAAU,EAAE;AAFP,eADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAOGI,IAAI,CAACI,WAPR,CADF,CAHF,CANF,CADF;AAwBD,WA7BH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAPF,EAuCE,oBAAC,SAAD,CAAW,UAAX;AACE,UAAA,IAAI,EAAE,CADR;AAEE,UAAA,aAAa,EAAE,CAFjB;AAGE,UAAA,YAAY,EAAE,sBAACC,IAAD;AAAA,mBAAUrE,OAAO,CAACC,GAAR,CAAYoE,IAAZ,CAAV;AAAA,WAHhB;AAIE,UAAA,KAAK,EAAK,CAAL,SAAU,CAAV,YAAkBnE,WAAW,CAACiB,MAJrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAvCF,CAtEF,CADF;;AAwHF,WAAK,CAAL;AACE,eAAO,0CAAGmD,aAAa,CAACxE,QAAD,CAAhB,CAAP;AA3HJ;AA6HD,GA9HD;;AAgIA,MAAMwE,aAAa,GAAG,SAAhBA,aAAgB,CAAC7D,IAAD,EAAU;AAC9B,WACE,oBAAC,IAAD;AACE,MAAA,KAAK,EAAE;AACL6C,QAAAA,UAAU,EAAE,QADP;AAGLiB,QAAAA,cAAc,EAAE,QAHX;AAILvB,QAAAA,IAAI,EAAE,CAJD;AAKLD,QAAAA,eAAe,EAAE;AALZ,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OASE,oBAAC,OAAD;AACE,MAAA,KAAK,EAAE;AACLA,QAAAA,eAAe,EAAE,OADZ;AAELyB,QAAAA,OAAO,EAAE,EAFJ;AAGLlB,QAAAA,UAAU,EAAE,QAHP;AAILmB,QAAAA,YAAY,EAAE,EAJT;AAKLC,QAAAA,SAAS,EAAE,GALN;AAMLC,QAAAA,WAAW,EAAE,SANR;AAOLC,QAAAA,aAAa,EAAE;AAPV,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAWE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEC,MAAM,CAACC,cAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEnB,QAAAA,QAAQ,EAAE,EAAZ;AAAgBC,QAAAA,UAAU,EAAE;AAA5B,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,GADH,sBAEmBnD,IAAI,CAAC0D,IAFxB,EAE8B,GAF9B,CADF,CAXF,EAiBE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEU,MAAM,CAACC,cAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAED,MAAM,CAACE,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAEE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEF,MAAM,CAACE,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2BtE,IAAI,CAAC0D,IAAhC,CAFF,CAjBF,EAqBE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEU,MAAM,CAACC,cAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAED,MAAM,CAACE,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,EAEE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEF,MAAM,CAACE,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2BtE,IAAI,CAACa,WAAhC,CAFF,CArBF,EAyBE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEuD,MAAM,CAACC,cAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAED,MAAM,CAACE,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAEE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEF,MAAM,CAACE,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2BtE,IAAI,CAAC2D,WAAhC,CAFF,CAzBF,EA6BE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAES,MAAM,CAACC,cAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAED,MAAM,CAACE,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAEE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEF,MAAM,CAACE,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2BtE,IAAI,CAACuE,WAAhC,CAFF,CA7BF,EAkCE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEH,MAAM,CAACC,cAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,gBAAD;AAAkB,MAAA,OAAO,EAAE;AAAA,eAAMjF,OAAO,CAAC,CAAD,CAAb;AAAA,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEgF,MAAM,CAACI,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CADF,CAlCF,EAwCE,oBAAC,IAAD;AACE,MAAA,KAAK,EAAE;AACLnB,QAAAA,aAAa,EAAE,KADV;AAELR,QAAAA,UAAU,EAAE,QAFP;AAGL7E,QAAAA,KAAK,EAAEH,KAHF;AAILiG,QAAAA,cAAc,EAAE,cAJX;AAKLC,QAAAA,OAAO,EAAE;AALJ,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OASE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBATF,EAUE,oBAAC,SAAD;AACE,MAAA,KAAK,EAAE;AACL/F,QAAAA,KAAK,EAAEH,KAAK,GAAG,CADV;AAEL4G,QAAAA,WAAW,EAAE,SAFR;AAGLT,QAAAA,YAAY,EAAE,CAHT;AAKLU,QAAAA,WAAW,EAAE;AALR,OADT;AAQE,MAAA,SAAS,EAAE,IARb;AASE,MAAA,YAAY,EAAE,sBAACtE,KAAD;AAAA,eAAWrB,sBAAsB,CAACqB,KAAD,CAAjC;AAAA,OAThB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVF,CAxCF,EA+DE,oBAAC,gBAAD;AACE,MAAA,OAAO,EAAE,mBAAM;AACb,YAAMe,KAAK,GAAGF,YAAY,CAACjB,IAAI,CAAC2E,MAAN,CAA1B;AACAtD,QAAAA,oBAAoB,CAACF,KAAD,CAApB;AACD,OAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAME,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAE4C,QAAAA,OAAO,EAAE;AAAX,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEK,MAAM,CAACI,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCADF,CANF,CA/DF,CATF,CADF;AAsFD,GAvFD;;AAwFA,SACE,0CACGvF,OAAO,GACN,0CAAGoD,cAAc,EAAjB,CADM,GAGN,oBAAC,IAAD;AACE,IAAA,SAAS,EAAC,UADZ;AAEE,IAAA,QAAQ,EAAE,IAFZ;AAGE,IAAA,KAAK,EAAE;AACLE,MAAAA,IAAI,EAAE,CADD;AAELM,MAAAA,UAAU,EAAE,QAFP;AAGLiB,MAAAA,cAAc,EAAE,QAHX;AAILxB,MAAAA,eAAe,EAAE;AAJZ,KAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAUE,oBAAC,IAAD;AACE,IAAA,KAAK,EAAE;AACLU,MAAAA,SAAS,EAAE1E,MAAM,GAAG,EADf;AAELN,MAAAA,KAAK,EAAEH,KAFF;AAGLwF,MAAAA,aAAa,EAAE,KAHV;AAILR,MAAAA,UAAU,EAAE,QAJP;AAKLiB,MAAAA,cAAc,EAAE;AALX,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASE,oBAAC,gBAAD;AAAkB,IAAA,OAAO,EAAE;AAAA,aAAMrF,UAAU,CAAC+D,YAAX,EAAN;AAAA,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AACE,IAAA,KAAK,EAAE;AAELK,MAAAA,UAAU,EAAE,QAFP;AAGLiB,MAAAA,cAAc,EAAE;AAHX,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE,oBAAC,OAAD;AACE,IAAA,IAAI,EAAC,YADP;AAEE,IAAA,IAAI,EAAE,EAFR;AAGE,IAAA,KAAK,EAAC,OAHR;AAIE,IAAA,KAAK,EAAE;AAAErB,MAAAA,iBAAiB,EAAE;AAArB,KAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CADF,CATF,EAyBE,oBAAC,IAAD;AACE,IAAA,KAAK,EAAE;AACLS,MAAAA,QAAQ,EAAE,EADL;AAELX,MAAAA,IAAI,EAAE;AAFD,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAzBF,CAVF,EA4CE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE6B,MAAM,CAACQ,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,OAAD;AAAS,IAAA,IAAI,EAAC,QAAd;AAAuB,IAAA,KAAK,EAAER,MAAM,CAACS,SAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,SAAD;AACE,IAAA,KAAK,EAAET,MAAM,CAACU,UADhB;AAEE,IAAA,WAAW,EAAC,QAFd;AAGE,IAAA,YAAY,EAAE,sBAAC1E,KAAD;AAAA,aAAWvB,WAAW,CAACuB,KAAD,CAAtB;AAAA,KAHhB;AAIE,IAAA,eAAe,EAAEK,MAJnB;AAKE,IAAA,cAAc,EAAC,MALjB;AAME,IAAA,WAAW,EAAE,KANf;AAOE,IAAA,YAAY,EAAC,eAPf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CA5CF,EAwDE,oBAAC,QAAD;AACE,IAAA,IAAI,EAAEA,MAAM,EADd;AAEE,IAAA,YAAY,EAAE,sBAAC8C,IAAD;AAAA,aAAUA,IAAI,CAACwB,GAAf;AAAA,KAFhB;AAGE,IAAA,4BAA4B,EAAE,KAHhC;AAIE,IAAA,UAAU,EAAE,CAJd;AAKE,IAAA,UAAU,EAAE,2BAAc;AAAA,UAAXxB,IAAW,SAAXA,IAAW;AACxB,aACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAEV,UAAAA,UAAU,EAAE;AAAd,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,gBAAD;AACE,QAAA,OAAO,EAAE;AAAA,iBACPpE,UAAU,CAACuG,QAAX,CAAoB,WAApB,EAAiC;AAAEzB,YAAAA,IAAI,EAAEA;AAAR,WAAjC,CADO;AAAA,SADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKE,oBAAC,KAAD;AACE,QAAA,KAAK,EAAEa,MAAM,CAACa,SADhB;AAEE,QAAA,MAAM,EAAE;AAAEC,UAAAA,GAAG,EAAE3B,IAAI,CAAC4B;AAAZ,SAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,CADF,EAWE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAEC,UAAAA,SAAS,EAAE,QAAb;AAAuBC,UAAAA,YAAY,EAAE;AAArC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG9B,IAAI,CAAC1C,WADR,CAXF,CADF,CADF;AAmBD,KAzBH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxDF,CAJJ,CADF;AA4FD,CA9aD;;AAgbA,IAAMuD,MAAM,GAAG,IAAIkB,UAAU,CAACC,MAAf,CAAsB;AACnCN,EAAAA,SAAS,EAAE;AACTjH,IAAAA,KAAK,EAAE,GADE;AAETO,IAAAA,MAAM,EAAE,GAFC;AAGTiH,IAAAA,MAAM,EAAE,EAHC;AAITxC,IAAAA,SAAS,EAAE,EAJF;AAKTgB,IAAAA,YAAY,EAAE;AALL,GADwB;AAQnCY,EAAAA,UAAU,EAAE;AACVtC,IAAAA,eAAe,EAAE,MADP;AAEV/D,IAAAA,MAAM,EAAED,MAAM,GAAG,EAFP;AAGV0F,IAAAA,YAAY,EAAE,EAHJ;AAIVX,IAAAA,aAAa,EAAE,KAJL;AAKVL,IAAAA,SAAS,EAAE,EALD;AAMVF,IAAAA,gBAAgB,EAAEjF,KAAK,GAAG;AANhB,GARuB;AAgBnCiH,EAAAA,UAAU,EAAE;AACV5B,IAAAA,QAAQ,EAAE,EADA;AAEVX,IAAAA,IAAI,EAAE;AAFI,GAhBuB;AAoBnCsC,EAAAA,SAAS,EAAE;AACT3B,IAAAA,QAAQ,EAAE,EADD;AAETuC,IAAAA,SAAS,EAAE,QAFF;AAGT3C,IAAAA,gBAAgB,EAAE;AAHT,GApBwB;AAyBnCuB,EAAAA,cAAc,EAAE;AACdhB,IAAAA,aAAa,EAAE,KADD;AAEdS,IAAAA,cAAc,EAAE,eAFF;AAGdjB,IAAAA,UAAU,EAAE,QAHE;AAIdE,IAAAA,cAAc,EAAE;AAJF,GAzBmB;AAgCnCuB,EAAAA,IAAI,EAAE;AACJpB,IAAAA,QAAQ,EAAE,EADN;AAEJC,IAAAA,UAAU,EAAE,QAFR;AAGJiC,IAAAA,SAAS,EAAE;AAHP,GAhC6B;AAqCnCM,EAAAA,KAAK,EAAE;AACLxC,IAAAA,QAAQ,EAAE,EADL;AAELC,IAAAA,UAAU,EAAE;AAFP,GArC4B;AAyCnCqB,EAAAA,MAAM,EAAE;AACNlC,IAAAA,eAAe,EAAE,SADX;AAENqD,IAAAA,eAAe,EAAE,EAFX;AAGNlD,IAAAA,iBAAiB,EAAE,EAHb;AAINmD,IAAAA,KAAK,EAAE,OAJD;AAKN1C,IAAAA,QAAQ,EAAE,EALJ;AAMNC,IAAAA,UAAU,EAAE,QANN;AAONa,IAAAA,YAAY,EAAE;AAPR;AAzC2B,CAAtB,CAAf;AAmDA,eAAexF,iBAAf","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\nimport {\n  StyleSheet,\n  Text,\n  View,\n  Dimensions,\n  TouchableOpacity,\n  TextInput,\n  ScrollView,\n  FlatList,\n  Image,\n  Platform,\n} from \"react-native\";\n\nimport { DataTable, Surface } from \"react-native-paper\";\nconst WIDTH = Dimensions.get(\"window\").width;\nimport touron from \"../../api/touron\";\nimport { Feather, FontAwesome } from \"@expo/vector-icons\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport * as firebase from \"firebase\";\n\nconst HEIGHT = Dimensions.get(\"window\").height;\nconst VisaDetailsScreen = ({ navigation }) => {\n  const [visa, setVisa] = useState([]);\n  const [visaName, setVisaName] = useState(\"\");\n  const [notificationMessage, setNotificationMessage] = useState(\"\");\n  const { user } = useContext(AuthContext);\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [step, setStep] = useState(0);\n  const [visaData, setVisaData] = useState({});\n\n  console.log(user, \"manivasagam\");\n  const [visaRequest, setVisaRequest] = useState([]);\n  console.log(isAdmin, \"status\");\n\n  // console.log(visaRequest, \"req\");\n\n  const getUserData = () => {\n    if (user !== null) {\n      firebase\n        .database()\n        .ref(`userGeneralInfo/${user.uid}`)\n        .on(\"value\", (data) => {\n          if (data.val() !== null) {\n            let val = data.val();\n            setIsAdmin(val.admin);\n          }\n        });\n    }\n  };\n\n  const getVisaRequests = (value) => {\n    let request = [];\n    firebase\n      .database()\n      .ref(`visaSubmission/`)\n      .on(\"value\", (data) => {\n        // console.log(data.val(), \"data\");\n        if (data) {\n          data.forEach((c) => {\n            request.push(c.val());\n          });\n        }\n      });\n\n    setVisaRequest(request);\n    // console.log(request, \"d\");\n  };\n\n  useEffect(() => {\n    getUserData();\n    getVisaRequests();\n  }, []);\n  const search = () => {\n    if (visa.length > 0) {\n      const d = visa.filter((c) => {\n        return c.countryName\n          .trim()\n          .toUpperCase()\n          .includes(visaName.trim().toUpperCase());\n      });\n      return d;\n    }\n  };\n\n  const getExpoToken = (userId) => {\n    // console.log(userId, \"id\");\n    let token = \"\";\n    firebase\n      .database()\n      .ref(`userGeneralInfo/${userId}`)\n      .on(\"value\", (data) => {\n        if (data.val() !== null) {\n          let val = data.val();\n          // console.log(val.pushNotificationToken, \"val\");\n          token = val.pushNotificationToken;\n        }\n      });\n\n    // console.log(token, \"po\");\n    return token;\n  };\n\n  // const send = () => {\n  //   users.forEach((u) => {\n  //     sendPushNotification(u.pushNotificationToken);\n  //   });\n  // };\n\n  const sendPushNotification = async (expoToken) => {\n    console.log(expoToken, \"messag\");\n    const messages = {\n      to: expoToken,\n      sound: \"default\",\n      title: \"Visa Details Info\",\n      body: notificationMessage,\n      // bodu: \"klklkllklklk\",\n      // data: { data: \"goes here\" },\n    };\n\n    await fetch(\"https://exp.host/--/api/v2/push/send\", {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Accept-encoding\": \"gzip, deflate\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(messages),\n    });\n  };\n\n  const getVisaDetails = async () => {\n    const visaResponse = await touron.get(\"/visa\");\n    setVisa(visaResponse.data);\n  };\n\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      getVisaDetails();\n    }\n    return () => (mounted = false);\n  }, []);\n\n  const renderVisaForm = () => {\n    switch (step) {\n      case 0:\n        return (\n          <View style={{ backgroundColor: \"white\", flex: 1 }}>\n            <TouchableOpacity onPress={() => navigation.toggleDrawer()}>\n              <View>\n                <Feather\n                  name=\"arrow-left\"\n                  size={28}\n                  color=\"black\"\n                  style={{\n                    paddingHorizontal: 20,\n                    paddingTop: Platform.OS === \"ios\" ? 50 : 10,\n                  }}\n                />\n              </View>\n            </TouchableOpacity>\n            <View\n              style={{\n                alignItems: \"center\",\n                marginHorizontal: 30,\n                marginVertical: 30,\n              }}\n            >\n              <Image\n                style={{\n                  height: HEIGHT / 5,\n                  width: HEIGHT / 5,\n                  marginTop: 10,\n                }}\n                source={require(\"../../../assets/playstore.png\")}\n              />\n\n              <Text\n                style={{ marginTop: 20, fontSize: 16, fontFamily: \"Avenir\" }}\n              >\n                Admin : {user.email}\n              </Text>\n              <View\n                style={{\n                  flexDirection: \"row\",\n                  alignItems: \"center\",\n                  marginTop: 20,\n                }}\n              >\n                <Text\n                  style={{\n                    fontSize: 16,\n                    fontFamily: \"Avenir\",\n                  }}\n                >\n                  Status :\n                </Text>\n                <FontAwesome\n                  name=\"circle\"\n                  size={20}\n                  color=\"#7bed9f\"\n                  style={{\n                    marginLeft: WIDTH / 10,\n                  }}\n                />\n                <Text\n                  style={{\n                    fontSize: 16,\n                    fontFamily: \"Avenir\",\n                    marginHorizontal: 10,\n                  }}\n                >\n                  Online\n                </Text>\n              </View>\n            </View>\n\n            <DataTable style={{ width: WIDTH }}>\n              <DataTable.Header>\n                <DataTable.Title>Country</DataTable.Title>\n                <DataTable.Title>Name</DataTable.Title>\n                <DataTable.Title numeric>Phone Number</DataTable.Title>\n              </DataTable.Header>\n\n              <FlatList\n                data={visaRequest}\n                keyExtractor={(item, index) => index.toString()}\n                renderItem={({ item }) => {\n                  // console.log(item, \"ite,\");\n                  return (\n                    <TouchableOpacity\n                      onPress={() => {\n                        setVisaData(item);\n                        setStep(1);\n                      }}\n                    >\n                      <DataTable.Row>\n                        <DataTable.Cell>{item.countryName}</DataTable.Cell>\n                        <DataTable.Cell>{item.name}</DataTable.Cell>\n                        <DataTable.Cell numeric>\n                          <Text\n                            style={{\n                              fontSize: 15,\n                              fontFamily: \"Andika\",\n                              // color: \"black\",\n                            }}\n                          >\n                            {item.phoneNumber}\n                          </Text>\n                        </DataTable.Cell>\n                      </DataTable.Row>\n                    </TouchableOpacity>\n                  );\n                }}\n              />\n\n              <DataTable.Pagination\n                page={1}\n                numberOfPages={1}\n                onPageChange={(page) => console.log(page)}\n                label={`${1}-${5} of ${visaRequest.length}`}\n              />\n            </DataTable>\n          </View>\n        );\n\n      case 1:\n        return <>{visaFormInner(visaData)}</>;\n    }\n  };\n\n  const visaFormInner = (data) => {\n    return (\n      <View\n        style={{\n          alignItems: \"center\",\n\n          justifyContent: \"center\",\n          flex: 1,\n          backgroundColor: \"#34495e\",\n        }}\n      >\n        <Surface\n          style={{\n            backgroundColor: \"white\",\n            padding: 30,\n            alignItems: \"center\",\n            borderRadius: 30,\n            elevation: 100,\n            shadowColor: \"#7ed6df\",\n            shadowOpacity: 3,\n          }}\n        >\n          <View style={styles.inputContainer}>\n            <Text style={{ fontSize: 30, fontFamily: \"Avenir\" }}>\n              {\" \"}\n              Visa Details of {data.name}{\" \"}\n            </Text>\n          </View>\n          <View style={styles.inputContainer}>\n            <Text style={styles.text}>Name : </Text>\n            <Text style={styles.text}>{data.name}</Text>\n          </View>\n          <View style={styles.inputContainer}>\n            <Text style={styles.text}>Country Name : </Text>\n            <Text style={styles.text}>{data.countryName}</Text>\n          </View>\n          <View style={styles.inputContainer}>\n            <Text style={styles.text}>Phone Number: </Text>\n            <Text style={styles.text}>{data.phoneNumber}</Text>\n          </View>\n          <View style={styles.inputContainer}>\n            <Text style={styles.text}>Travel Month: </Text>\n            <Text style={styles.text}>{data.travelMonth}</Text>\n          </View>\n\n          <View style={styles.inputContainer}>\n            <TouchableOpacity onPress={() => setStep(0)}>\n              <Text style={styles.button}>Back</Text>\n            </TouchableOpacity>\n          </View>\n\n          <View\n            style={{\n              flexDirection: \"row\",\n              alignItems: \"center\",\n              width: WIDTH,\n              justifyContent: \"space-around\",\n              padding: 10,\n            }}\n          >\n            <Text>Message :</Text>\n            <TextInput\n              style={{\n                width: WIDTH / 2,\n                borderColor: \"#34495e\",\n                borderRadius: 4,\n\n                borderWidth: 1.5,\n              }}\n              multiline={true}\n              onChangeText={(value) => setNotificationMessage(value)}\n            />\n          </View>\n\n          <TouchableOpacity\n            onPress={() => {\n              const token = getExpoToken(data.userID);\n              sendPushNotification(token);\n            }}\n          >\n            <View style={{ padding: 10 }}>\n              <Text style={styles.button}>Send Notification Message</Text>\n            </View>\n          </TouchableOpacity>\n        </Surface>\n      </View>\n    );\n  };\n  return (\n    <>\n      {isAdmin ? (\n        <>{renderVisaForm()}</>\n      ) : (\n        <View\n          animation=\"bounceIn\"\n          duration={3000}\n          style={{\n            flex: 1,\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            backgroundColor: \"white\",\n          }}\n        >\n          <View\n            style={{\n              marginTop: HEIGHT / 14,\n              width: WIDTH,\n              flexDirection: \"row\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n            }}\n          >\n            <TouchableOpacity onPress={() => navigation.toggleDrawer()}>\n              <View\n                style={{\n                  //flex: 0.2,\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                }}\n              >\n                <Feather\n                  name=\"arrow-left\"\n                  size={28}\n                  color=\"black\"\n                  style={{ paddingHorizontal: 20 }}\n                />\n              </View>\n            </TouchableOpacity>\n            <Text\n              style={{\n                fontSize: 16,\n                flex: 1,\n              }}\n            >\n              Select the Country you are Travelling\n            </Text>\n          </View>\n          <View style={styles.background}>\n            <Feather name=\"search\" style={styles.iconStyle}></Feather>\n            <TextInput\n              style={styles.inputStyle}\n              placeholder=\"Search\"\n              onChangeText={(value) => setVisaName(value)}\n              onSubmitEditing={search}\n              autoCapitalize=\"none\"\n              autoCorrect={false}\n              keyboardType=\"email-address\"\n            />\n          </View>\n          <FlatList\n            data={search()}\n            keyExtractor={(item) => item._id}\n            showsVerticalScrollIndicator={false}\n            numColumns={3}\n            renderItem={({ item }) => {\n              return (\n                <View style={{ alignItems: \"center\" }}>\n                  <View>\n                    <TouchableOpacity\n                      onPress={() =>\n                        navigation.navigate(\"VisaInner\", { item: item })\n                      }\n                    >\n                      <Image\n                        style={styles.cityImage}\n                        source={{ uri: item.imageUrl }}\n                      />\n                    </TouchableOpacity>\n                    <Text style={{ textAlign: \"center\", marginBottom: 5 }}>\n                      {item.countryName}\n                    </Text>\n                  </View>\n                </View>\n              );\n            }}\n          />\n        </View>\n      )}\n    </>\n  );\n};\n\nconst styles = new StyleSheet.create({\n  cityImage: {\n    width: 100,\n    height: 100,\n    margin: 10,\n    marginTop: 20,\n    borderRadius: 100,\n  },\n  background: {\n    backgroundColor: \"#fff\",\n    height: HEIGHT / 15,\n    borderRadius: 20,\n    flexDirection: \"row\",\n    marginTop: 20,\n    marginHorizontal: WIDTH / 18,\n  },\n  inputStyle: {\n    fontSize: 18,\n    flex: 1,\n  },\n  iconStyle: {\n    fontSize: 30,\n    alignSelf: \"center\",\n    marginHorizontal: 15,\n  },\n  inputContainer: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    marginVertical: 20,\n  },\n\n  text: {\n    fontSize: 17,\n    fontFamily: \"Andika\",\n    textAlign: \"left\",\n  },\n  text1: {\n    fontSize: 14,\n    fontFamily: \"Andika\",\n  },\n  button: {\n    backgroundColor: \"#34495e\",\n    paddingVertical: 13,\n    paddingHorizontal: 20,\n    color: \"white\",\n    fontSize: 18,\n    fontFamily: \"WSansl\",\n    borderRadius: 20,\n  },\n});\nexport default VisaDetailsScreen;\n"]},"metadata":{},"sourceType":"module"}