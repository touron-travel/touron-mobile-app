{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/aravshrimath/Documents/Mobile Application/touron-mobile-app/src/Screens/DrawerContent.js\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport * as firebase from \"firebase\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport { Feather, AntDesign } from \"@expo/vector-icons\";\nimport { DrawerItem, DrawerContentScrollView } from \"@react-navigation/drawer\";\nimport { FontAwesome5 } from \"@expo/vector-icons\";\nimport { Avatar, Title, Caption, Drawer } from \"react-native-paper\";\nvar WIDTH = Dimensions.get(\"window\").width;\nvar HEIGHT = Dimensions.get(\"window\").height;\nimport { AuthContext } from \"../context/AuthContext\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\n\nvar DrawerContent = function DrawerContent(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isAdmin = _useState2[0],\n      setIsAdmin = _useState2[1];\n\n  var _useContext = useContext(AuthContext),\n      isLoggedIn = _useContext.isLoggedIn,\n      setIsLoggedIn = _useContext.setIsLoggedIn,\n      setUser = _useContext.setUser,\n      user = _useContext.user;\n\n  useEffect(function () {\n    getUserData();\n  });\n  console.log(isAdmin, \"isAdmin\");\n\n  var getUserData = function getUserData() {\n    if (user !== null) {\n      firebase.database().ref(\"userGeneralInfo/\" + user.uid).on(\"value\", function (data) {\n        if (data.val() !== null) {\n          var val = data.val();\n          console.log(val, \"val\");\n          setIsAdmin(val.admin);\n        }\n      });\n    }\n  };\n\n  console.log(user, \"USER\");\n\n  var removeToken = function removeToken() {\n    return _regeneratorRuntime.async(function removeToken$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.removeItem(\"userToken\"));\n\n          case 3:\n            _context.next = 8;\n            break;\n\n          case 5:\n            _context.prev = 5;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(err);\n\n          case 8:\n            console.log(\"Done.\");\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  return React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, React.createElement(ImageBackground, {\n    style: {\n      width: WIDTH * 0.75,\n      height: HEIGHT + 30,\n      zIndex: -1,\n      opacity: Platform.OS === \"ios\" ? 0.4 : 1\n    },\n    source: {\n      uri: \"https://images.pexels.com/photos/2108813/pexels-photo-2108813.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }), isLoggedIn ? React.createElement(View, {\n    style: {\n      backgroundColor: Platform.OS === \"ios\" ? \"transparent\" : \"#000000\",\n      width: WIDTH * 0.75,\n      height: HEIGHT + 30,\n      position: \"absolute\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, React.createElement(DrawerContentScrollView, _extends({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }), React.createElement(View, {\n    style: {\n      marginVertical: 40\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, React.createElement(DrawerItem, {\n    label: function label() {\n      return React.createElement(Text, {\n        style: styles.label,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 30\n        }\n      }, \"Home\");\n    },\n    style: {\n      color: \"white\"\n    },\n    icon: function icon() {\n      return React.createElement(Image, {\n        style: {\n          height: 30,\n          width: 30\n        },\n        source: require(\"../../assets/houses.png\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 19\n        }\n      });\n    },\n    onPress: function onPress() {\n      return props.navigation.navigate(\"Main\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }), React.createElement(DrawerItem, {\n    label: function label() {\n      return React.createElement(Text, {\n        style: styles.label,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 30\n        }\n      }, \"My Requests\");\n    },\n    icon: function icon() {\n      return React.createElement(Image, {\n        style: {\n          height: 30,\n          width: 30\n        },\n        source: require(\"../../assets/Planes.png\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 19\n        }\n      });\n    },\n    onPress: function onPress() {\n      return props.navigation.navigate(\"MyRequest\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }), React.createElement(DrawerItem, {\n    label: function label() {\n      return React.createElement(Text, {\n        style: styles.label,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 30\n        }\n      }, \"Saved Tours\");\n    },\n    icon: function icon() {\n      return React.createElement(Image, {\n        style: {\n          height: 30,\n          width: 30\n        },\n        source: require(\"../../assets/heart.png\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 19\n        }\n      });\n    },\n    onPress: function onPress() {\n      props.navigation.navigate(\"WishList\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 15\n    }\n  }), React.createElement(DrawerItem, {\n    label: function label() {\n      return React.createElement(Text, {\n        style: styles.label,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 30\n        }\n      }, \"My Visa Requests\");\n    },\n    icon: function icon() {\n      return React.createElement(Image, {\n        style: {\n          height: 30,\n          width: 30\n        },\n        source: require(\"../../assets/heart.png\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 19\n        }\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 15\n    }\n  }), React.createElement(DrawerItem, {\n    label: function label() {\n      return React.createElement(Text, {\n        style: styles.label,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 30\n        }\n      }, \"Profile\");\n    },\n    icon: function icon() {\n      return React.createElement(Image, {\n        style: {\n          height: 30,\n          width: 30\n        },\n        source: require(\"../../assets/Profiles.png\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 19\n        }\n      });\n    },\n    onPress: function onPress() {\n      props.navigation.navigate(\"Profile\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 15\n    }\n  }), React.createElement(DrawerItem, {\n    label: function label() {\n      return React.createElement(Text, {\n        style: styles.label,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 30\n        }\n      }, \"Support\");\n    },\n    icon: function icon() {\n      return React.createElement(Image, {\n        style: {\n          height: 30,\n          width: 30\n        },\n        source: require(\"../../assets/setting.png\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 19\n        }\n      });\n    },\n    onPress: function onPress() {},\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 15\n    }\n  }), React.createElement(DrawerItem, {\n    label: function label() {\n      return React.createElement(Text, {\n        style: styles.label,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 30\n        }\n      }, \"Visa Assistance\");\n    },\n    icon: function icon() {\n      return React.createElement(View, {\n        style: {\n          marginHorizontal: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 19\n        }\n      }, React.createElement(FontAwesome5, {\n        name: \"passport\",\n        size: 23,\n        color: \"#C1C5C6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 21\n        }\n      }));\n    },\n    onPress: function onPress() {\n      props.navigation.navigate(\"Visa\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 15\n    }\n  }), isAdmin ? React.createElement(DrawerItem, {\n    label: function label() {\n      return React.createElement(Text, {\n        style: styles.label,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 32\n        }\n      }, \"Promotion page\");\n    },\n    icon: function icon() {\n      return React.createElement(View, {\n        style: {\n          marginHorizontal: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 21\n        }\n      }, React.createElement(FontAwesome5, {\n        name: \"passport\",\n        size: 23,\n        color: \"#C1C5C6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 23\n        }\n      }));\n    },\n    onPress: function onPress() {\n      props.navigation.navigate(\"Promotion\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 17\n    }\n  }) : null)), React.createElement(Drawer.Section, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 11\n    }\n  }, React.createElement(DrawerItem, {\n    label: function label() {\n      return React.createElement(Text, {\n        style: {\n          marginBottom: HEIGHT / 10,\n          color: \"#FFF\",\n          fontWeight: \"bold\",\n          fontSize: 16\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 17\n        }\n      }, \"Log Out\");\n    },\n    onPress: function onPress() {\n      console.log(\"clicked\");\n      firebase.auth().signOut();\n      setUser(null);\n      removeToken();\n      setIsLoggedIn(false);\n      props.navigation.navigate(\"HomeDrawer\");\n    },\n    icon: function icon() {\n      return React.createElement(Image, {\n        style: {\n          height: 30,\n          width: 30,\n          marginBottom: HEIGHT / 10\n        },\n        source: require(\"../../assets/log-out.png\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 17\n        }\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }\n  }))) : React.createElement(View, {\n    style: {\n      backgroundColor: \"#000000\",\n      width: WIDTH * 0.75,\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      height: HEIGHT + 30,\n      position: \"absolute\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 20,\n      color: \"#FFF\",\n      fontWeight: \"300\",\n      marginTop: 30\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 11\n    }\n  }, \"Log into your Account\"), React.createElement(View, {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"space-around\",\n      alignItems: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 11\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return props.navigation.navigate(\"SignInScreen\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.label1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 15\n    }\n  }, \"Login\")), React.createElement(Text, {\n    style: {\n      fontSize: 40,\n      color: \"#FFF\",\n      fontWeight: \"300\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 13\n    }\n  }, \" \", \"\", \"/\", \" \"), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return props.navigation.navigate(\"SignUpScreen\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.label1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 15\n    }\n  }, \"Sign Up\")))));\n};\n\nexport default DrawerContent;\nvar styles = new StyleSheet.create({\n  label: {\n    color: \"#FFF\",\n    fontWeight: \"bold\",\n    fontSize: 16\n  },\n  label1: {\n    color: \"#FFF\",\n    fontWeight: \"bold\",\n    fontSize: 16,\n    borderRadius: 20,\n    padding: 10,\n    backgroundColor: \"transparent\",\n    borderWidth: 1,\n    borderColor: \"white\"\n  }\n});","map":{"version":3,"sources":["/Users/aravshrimath/Documents/Mobile Application/touron-mobile-app/src/Screens/DrawerContent.js"],"names":["React","useContext","useState","useEffect","firebase","AsyncStorage","Feather","AntDesign","DrawerItem","DrawerContentScrollView","FontAwesome5","Avatar","Title","Caption","Drawer","WIDTH","Dimensions","get","width","HEIGHT","height","AuthContext","TouchableOpacity","DrawerContent","props","isAdmin","setIsAdmin","isLoggedIn","setIsLoggedIn","setUser","user","getUserData","console","log","database","ref","uid","on","data","val","admin","removeToken","removeItem","err","flex","zIndex","opacity","Platform","OS","uri","backgroundColor","position","marginVertical","styles","label","color","require","navigation","navigate","marginHorizontal","marginBottom","fontWeight","fontSize","auth","signOut","justifyContent","alignItems","marginTop","display","flexDirection","label1","StyleSheet","create","borderRadius","padding","borderWidth","borderColor"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport {\n  View,\n  StyleSheet,\n  Text,\n  Image,\n  ImageBackground,\n  Dimensions,\n  Platform,\n} from \"react-native\";\nimport * as firebase from \"firebase\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport { Feather, AntDesign } from \"@expo/vector-icons\";\nimport { DrawerItem, DrawerContentScrollView } from \"@react-navigation/drawer\";\nimport { FontAwesome5 } from \"@expo/vector-icons\";\nimport { Avatar, Title, Caption, Drawer } from \"react-native-paper\";\nconst WIDTH = Dimensions.get(\"window\").width;\nconst HEIGHT = Dimensions.get(\"window\").height;\n\nimport { AuthContext } from \"../context/AuthContext\";\nimport { TouchableOpacity } from \"react-native-gesture-handler\";\n\nconst DrawerContent = (props) => {\n  const [isAdmin, setIsAdmin] = useState(false);\n\n  const { isLoggedIn, setIsLoggedIn, setUser, user } = useContext(AuthContext);\n  useEffect(() => {\n    getUserData();\n  });\n\n  console.log(isAdmin, \"isAdmin\");\n\n  const getUserData = () => {\n    if (user !== null) {\n      firebase\n        .database()\n        .ref(`userGeneralInfo/${user.uid}`)\n        .on(\"value\", (data) => {\n          if (data.val() !== null) {\n            let val = data.val();\n            console.log(val, \"val\");\n            setIsAdmin(val.admin);\n          }\n        });\n    }\n  };\n  console.log(user, \"USER\");\n\n  const removeToken = async () => {\n    try {\n      await AsyncStorage.removeItem(\"userToken\");\n    } catch (e) {\n      console.log(err);\n    }\n    console.log(\"Done.\");\n  };\n\n  return (\n    <View style={{ flex: 1 }}>\n      <ImageBackground\n        style={{\n          width: WIDTH * 0.75,\n          height: HEIGHT + 30,\n          zIndex: -1,\n          opacity: Platform.OS === \"ios\" ? 0.4 : 1,\n        }}\n        source={{\n          uri:\n            \"https://images.pexels.com/photos/2108813/pexels-photo-2108813.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500\",\n        }}\n      />\n\n      {isLoggedIn ? (\n        <View\n          style={{\n            // zIndex: 2,\n            backgroundColor: Platform.OS === \"ios\" ? \"transparent\" : \"#000000\",\n            //zIndex: 10,\n            width: WIDTH * 0.75,\n            height: HEIGHT + 30,\n            position: \"absolute\",\n          }}\n        >\n          <DrawerContentScrollView {...props}>\n            <View style={{ marginVertical: 40 }}>\n              <DrawerItem\n                label={() => <Text style={styles.label}>Home</Text>}\n                style={{ color: \"white\" }}\n                //   icon={({ color, size }) => <Feather name=\"menu\" />}\n                icon={() => (\n                  <Image\n                    style={{ height: 30, width: 30 }}\n                    source={require(\"../../assets/houses.png\")}\n                  />\n                )}\n                onPress={() => props.navigation.navigate(\"Main\")}\n              />\n\n              <DrawerItem\n                label={() => <Text style={styles.label}>My Requests</Text>}\n                //   icon={({ color, size }) => <Feather name=\"menu\" />}\n                icon={() => (\n                  <Image\n                    style={{ height: 30, width: 30 }}\n                    source={require(\"../../assets/Planes.png\")}\n                  />\n                )}\n                onPress={() => props.navigation.navigate(\"MyRequest\")}\n              />\n              <DrawerItem\n                label={() => <Text style={styles.label}>Saved Tours</Text>}\n                //   icon={({ color, size }) => <Feather name=\"menu\" />}\n                icon={() => (\n                  <Image\n                    style={{ height: 30, width: 30 }}\n                    source={require(\"../../assets/heart.png\")}\n                  />\n                )}\n                onPress={() => {\n                  props.navigation.navigate(\"WishList\");\n                }}\n              />\n              {/* <DrawerItem\n                label={() => <Text style={styles.label}>My Plans</Text>}\n                //   icon={({ color, size }) => <Feather name=\"menu\" />}\n                icon={() => (\n                  <Image\n                    style={{ height: 30, width: 30 }}\n                    source={require(\"../../assets/flash.png\")}\n                  />\n                )}\n                onPress={() => {\n                  props.navigation.navigate(\"MyPlans\");\n                }}\n              /> */}\n\n              <DrawerItem\n                label={() => <Text style={styles.label}>My Visa Requests</Text>}\n                //   icon={({ color, size }) => <Feather name=\"menu\" />}\n                icon={() => (\n                  <Image\n                    style={{ height: 30, width: 30 }}\n                    source={require(\"../../assets/heart.png\")}\n                  />\n                )}\n                // onPress={() => {\n                //   props.navigation.navigate(\"WishList\");\n                // }}\n              />\n              <DrawerItem\n                label={() => <Text style={styles.label}>Profile</Text>}\n                icon={() => (\n                  <Image\n                    style={{\n                      height: 30,\n                      width: 30,\n                      // marginLeft: 10,\n                      // marginRight: 3,\n                    }}\n                    source={require(\"../../assets/Profiles.png\")}\n                  />\n                )}\n                onPress={() => {\n                  props.navigation.navigate(\"Profile\");\n                }}\n              />\n              <DrawerItem\n                label={() => <Text style={styles.label}>Support</Text>}\n                //   icon={({ color, size }) => <Feather name=\"menu\" />}\n                icon={() => (\n                  <Image\n                    style={{\n                      height: 30,\n                      width: 30,\n                      // marginLeft: 5,\n                      // marginRight: 3,\n                    }}\n                    source={require(\"../../assets/setting.png\")}\n                  />\n                )}\n                onPress={() => {}}\n              />\n              <DrawerItem\n                label={() => <Text style={styles.label}>Visa Assistance</Text>}\n                //   icon={({ color, size }) => <Feather name=\"menu\" />}\n                icon={() => (\n                  <View style={{ marginHorizontal: 5 }}>\n                    <FontAwesome5 name=\"passport\" size={23} color=\"#C1C5C6\" />\n                  </View>\n                )}\n                onPress={() => {\n                  props.navigation.navigate(\"Visa\");\n                }}\n              />\n\n              {isAdmin ? (\n                <DrawerItem\n                  label={() => <Text style={styles.label}>Promotion page</Text>}\n                  //   icon={({ color, size }) => <Feather name=\"menu\" />}\n                  icon={() => (\n                    <View style={{ marginHorizontal: 5 }}>\n                      <FontAwesome5 name=\"passport\" size={23} color=\"#C1C5C6\" />\n                    </View>\n                  )}\n                  onPress={() => {\n                    props.navigation.navigate(\"Promotion\");\n                  }}\n                />\n              ) : null}\n            </View>\n          </DrawerContentScrollView>\n          <Drawer.Section>\n            <DrawerItem\n              label={() => (\n                <Text\n                  style={{\n                    marginBottom: HEIGHT / 10,\n                    color: \"#FFF\",\n                    fontWeight: \"bold\",\n                    //fontFamily: \"Avenir\",\n                    fontSize: 16,\n                  }}\n                >\n                  Log Out\n                </Text>\n              )}\n              onPress={() => {\n                console.log(\"clicked\");\n                firebase.auth().signOut();\n                setUser(null);\n                removeToken();\n                setIsLoggedIn(false);\n                props.navigation.navigate(\"HomeDrawer\");\n              }}\n              //   icon={({ color, size }) => <Feather name=\"menu\" />}\n              icon={() => (\n                <Image\n                  style={{ height: 30, width: 30, marginBottom: HEIGHT / 10 }}\n                  source={require(\"../../assets/log-out.png\")}\n                />\n              )}\n            />\n          </Drawer.Section>\n        </View>\n      ) : (\n        <View\n          style={{\n            // zIndex: 2,\n            backgroundColor: \"#000000\",\n            // zIndex: 10,\n            width: WIDTH * 0.75,\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            height: HEIGHT + 30,\n            position: \"absolute\",\n          }}\n        >\n          <Text\n            style={{\n              fontSize: 20,\n              color: \"#FFF\",\n              fontWeight: \"300\",\n              marginTop: 30,\n            }}\n          >\n            Log into your Account\n          </Text>\n          <View\n            style={{\n              display: \"flex\",\n              flexDirection: \"row\",\n              justifyContent: \"space-around\",\n              alignItems: \"center\",\n            }}\n          >\n            <TouchableOpacity\n              onPress={() => props.navigation.navigate(\"SignInScreen\")}\n            >\n              <Text style={styles.label1}>Login</Text>\n            </TouchableOpacity>\n            <Text style={{ fontSize: 40, color: \"#FFF\", fontWeight: \"300\" }}>\n              {\" \"}\n              {\"\"}/{\" \"}\n            </Text>\n            <TouchableOpacity\n              onPress={() => props.navigation.navigate(\"SignUpScreen\")}\n            >\n              <Text style={styles.label1}>Sign Up</Text>\n            </TouchableOpacity>\n          </View>\n        </View>\n      )}\n    </View>\n  );\n};\nexport default DrawerContent;\n\nconst styles = new StyleSheet.create({\n  label: {\n    color: \"#FFF\",\n    fontWeight: \"bold\",\n    //fontFamily: \"Avenir\",\n    fontSize: 16,\n  },\n  label1: {\n    color: \"#FFF\",\n    fontWeight: \"bold\",\n    //fontFamily: \"Avenir\",\n    fontSize: 16,\n    borderRadius: 20,\n    padding: 10,\n    backgroundColor: \"transparent\",\n    borderWidth: 1,\n    borderColor: \"white\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}