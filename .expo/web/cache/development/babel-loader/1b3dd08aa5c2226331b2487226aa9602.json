{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/aravshrimath/Documents/Mobile Application/touron-mobile-app/src/Screens/AuthScreens/SignUpScreen.js\";\nimport React, { useState, useRef, useEffect, useContext } from \"react\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport Constants from \"expo-constants\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { AntDesign } from \"@expo/vector-icons\";\nimport * as Animatable from \"react-native-animatable\";\nimport * as firebase from \"firebase\";\nimport { Spinner } from \"native-base\";\nimport * as Notifications from \"expo-notifications\";\nimport * as Permissions from \"expo-permissions\";\nvar WIDTH = Dimensions.get(\"window\").width;\nvar HEIGHT = Dimensions.get(\"window\").height;\nimport axios from \"axios\";\nimport { AuthContext } from \"../../context/AuthContext\";\n\nfunction SignUpScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      number = _useState2[0],\n      setNumber = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      email = _useState4[0],\n      setEmail = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      name = _useState6[0],\n      setName = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      password = _useState8[0],\n      setPassword = _useState8[1];\n\n  var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      step = _useState10[0],\n      setStep = _useState10[1];\n\n  var _useState11 = useState(0),\n      _useState12 = _slicedToArray(_useState11, 2),\n      code = _useState12[0],\n      setCode = _useState12[1];\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      sessionID = _useState14[0],\n      setSessionID = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      loaded = _useState16[0],\n      setLoaded = _useState16[1];\n\n  var _useContext = useContext(AuthContext),\n      isLoggedIn = _useContext.isLoggedIn,\n      setIsLoggedIn = _useContext.setIsLoggedIn,\n      user = _useContext.user,\n      setUser = _useContext.setUser;\n\n  var _useState17 = useState(\"\"),\n      _useState18 = _slicedToArray(_useState17, 2),\n      err = _useState18[0],\n      setErr = _useState18[1];\n\n  var _useState19 = useState(false),\n      _useState20 = _slicedToArray(_useState19, 2),\n      numerr = _useState20[0],\n      setNumErr = _useState20[1];\n\n  var _useState21 = useState(false),\n      _useState22 = _slicedToArray(_useState21, 2),\n      emailerr = _useState22[0],\n      setEmailErr = _useState22[1];\n\n  var _useState23 = useState(false),\n      _useState24 = _slicedToArray(_useState23, 2),\n      nameerr = _useState24[0],\n      setNameErr = _useState24[1];\n\n  var _useState25 = useState(false),\n      _useState26 = _slicedToArray(_useState25, 2),\n      passerr = _useState26[0],\n      setPassErr = _useState26[1];\n\n  var _useState27 = useState(false),\n      _useState28 = _slicedToArray(_useState27, 2),\n      otperr = _useState28[0],\n      setOtpErr = _useState28[1];\n\n  var _useState29 = useState(\"\"),\n      _useState30 = _slicedToArray(_useState29, 2),\n      expoToken = _useState30[0],\n      setExpoToken = _useState30[1];\n\n  var storeToken = function storeToken(value) {\n    var userToken;\n    return _regeneratorRuntime.async(function storeToken$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            userToken = JSON.stringify(value);\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"userToken\", userToken));\n\n          case 4:\n            _context.next = 9;\n            break;\n\n          case 6:\n            _context.prev = 6;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 6]], Promise);\n  };\n\n  var nextStep = function nextStep() {\n    setStep(step + 1);\n    setLoaded(false);\n  };\n\n  var prevStep = function prevStep() {\n    setStep(step - 1);\n    setLoaded(false);\n  };\n\n  var sendOtp = function sendOtp() {\n    console.log(\"clicked\");\n    setEmailErr(false);\n    setNumErr(false);\n    setPassErr(false);\n    setNameErr(false);\n\n    if (number.length === 10 && email.includes(\"@\") && password !== \"\" && name !== \" \") {\n      setLoaded(true);\n      firebase.auth().createUserWithEmailAndPassword(email, password).then(function (user) {\n        setUser(user);\n        firebase.database().ref(\"userGeneralInfo/\" + user.user.uid).set({\n          phoneNumber: number,\n          name: name,\n          address: \"\",\n          age: \"\",\n          gender: \"\",\n          aboutMe: \"\",\n          travellerType: \"\",\n          admin: false,\n          pushNotificationToken: expoToken\n        });\n        setUser(user);\n        setIsLoggedIn(true);\n        storeToken(user);\n        axios.get(\"https://2factor.in/API/V1/4196cbc9-0df2-11eb-9fa5-0200cd936042/SMS/+91\" + number + \"/AUTOGEN\").then(function (response) {\n          var session = response.data.Details;\n          console.log(session, \"RESPONSE DATA\");\n          setLoaded(false);\n          setSessionID(session);\n          nextStep();\n        }).catch(function (err) {\n          console.log(err, \"kjhk\");\n        });\n      }).catch(function (err) {\n        setLoaded(false);\n        setErr(err.message);\n        console.log(err.message);\n      });\n    } else {\n      if (email.includes(\"@\") === false) {\n        setEmailErr(true);\n      }\n\n      if (number.length !== 10) {\n        setNumErr(true);\n      }\n\n      if (name == \"\") {\n        setNameErr(true);\n      }\n\n      if (password.length < 6) {\n        setPassErr(true);\n      }\n    }\n  };\n\n  var registerForPushNotificationsAsync = function registerForPushNotificationsAsync(user) {\n    var token, _await$Permissions$ge, existingStatus, finalStatus, _await$Permissions$as, status;\n\n    return _regeneratorRuntime.async(function registerForPushNotificationsAsync$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!Constants.isDevice) {\n              _context2.next = 21;\n              break;\n            }\n\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(Permissions.getAsync(Permissions.NOTIFICATIONS));\n\n          case 3:\n            _await$Permissions$ge = _context2.sent;\n            existingStatus = _await$Permissions$ge.status;\n            finalStatus = existingStatus;\n\n            if (!(existingStatus !== \"granted\")) {\n              _context2.next = 12;\n              break;\n            }\n\n            _context2.next = 9;\n            return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.NOTIFICATIONS));\n\n          case 9:\n            _await$Permissions$as = _context2.sent;\n            status = _await$Permissions$as.status;\n            finalStatus = status;\n\n          case 12:\n            if (!(finalStatus !== \"granted\")) {\n              _context2.next = 15;\n              break;\n            }\n\n            alert(\"Failed to get push token for push notification!\");\n            return _context2.abrupt(\"return\");\n\n          case 15:\n            _context2.next = 17;\n            return _regeneratorRuntime.awrap(Notifications.getExpoPushTokenAsync());\n\n          case 17:\n            token = _context2.sent.data;\n            console.log(token);\n            _context2.next = 22;\n            break;\n\n          case 21:\n            alert(\"Must use physical device for Push Notifications\");\n\n          case 22:\n            if (Platform.OS === \"android\") {\n              Notifications.setNotificationChannelAsync(\"default\", {\n                name: \"default\",\n                importance: Notifications.AndroidImportance.MAX,\n                vibrationPattern: [0, 250, 250, 250],\n                lightColor: \"#FF231F7C\"\n              });\n            }\n\n            return _context2.abrupt(\"return\", token);\n\n          case 24:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    registerForPushNotificationsAsync().then(function (token) {\n      console.log(token, \"tokem\");\n      setExpoToken(token);\n    });\n  });\n\n  var verifyOtp = function verifyOtp() {\n    setLoaded(true);\n    axios.get(\"https://2factor.in/API/V1/4196cbc9-0df2-11eb-9fa5-0200cd936042/SMS/VERIFY/\" + sessionID + \"/\" + code).then(function (response) {\n      console.log(response, \"RESPONSE\");\n      var status = response.data.Details;\n      console.log(status, \"STATUS\");\n\n      if (status == \"OTP Matched\") {\n        setName(\"\");\n        setNumber(\"\");\n        setPassword(\"\");\n        setEmail(\"\");\n        setUser(user);\n        setIsLoggedIn(true);\n        storeToken(user);\n        setLoaded(false);\n        navigation.navigate(\"Main\");\n        prevStep();\n      }\n    }).catch(function (err) {\n      setLoaded(false);\n      console.log(err, \"err\");\n      setOtpErr(true);\n    });\n  };\n\n  useEffect(function () {\n    var mounted = true;\n\n    if (mounted) {\n      firebase.auth().onAuthStateChanged(function (user) {\n        console.log(user, \"MANIVASAGAM\");\n        setUser(user);\n      });\n    }\n\n    return function () {\n      return mounted = false;\n    };\n  }, []);\n\n  var renderView = function renderView(step) {\n    switch (step) {\n      case 0:\n        return React.createElement(View, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 11\n          }\n        }, React.createElement(View, {\n          style: styles.skip,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }\n        }, React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            return navigation.navigate(\"Main\");\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 15\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontSize: 18,\n            color: \"#333\",\n            fontWeight: \"bold\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 17\n          }\n        }, \"Skip\"))), React.createElement(View, {\n          style: {\n            flex: 1,\n            justifyContent: \"flex-end\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }\n        }, React.createElement(Animatable.View, {\n          animation: \"fadeInUp\",\n          duration: 1500,\n          style: {\n            alignItems: \"center\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 15\n          }\n        }, React.createElement(View, {\n          style: {\n            marginBottom: HEIGHT / 7,\n            alignItems: \"center\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 17\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontSize: 40,\n            color: \"white\",\n            fontFamily: \"NewYorkl\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 19\n          }\n        }, \"Sign Up\")), React.createElement(View, {\n          style: styles.inputContainer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 17\n          }\n        }, React.createElement(TextInput, {\n          style: styles.input,\n          value: name,\n          placeholder: \"Name\",\n          keyboardType: \"visible-password\",\n          keyboardAppearance: \"dark\",\n          keyboardType: \"email-address\",\n          onChangeText: function onChangeText(value) {\n            return setName(value);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 19\n          }\n        })), !nameerr ? null : React.createElement(View, {\n          style: ([styles.inputContainer], {\n            backgroundColor: \"transparent\",\n            marginBottom: 0\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 19\n          }\n        }, React.createElement(Text, {\n          style: {\n            color: \"yellow\",\n            marginBottom: 10,\n            fontSize: 16\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 21\n          }\n        }, \"Enter Your Name\")), React.createElement(View, {\n          style: styles.inputContainer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 17\n          }\n        }, React.createElement(TextInput, {\n          style: styles.input,\n          placeholder: \"Email\",\n          value: email,\n          keyboardType: \"visible-password\",\n          keyboardAppearance: \"dark\",\n          keyboardType: \"email-address\",\n          onChangeText: function onChangeText(value) {\n            return setEmail(value);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 19\n          }\n        })), !emailerr ? null && err !== \"\" : React.createElement(View, {\n          style: ([styles.inputContainer], {\n            backgroundColor: \"transparent\",\n            marginBottom: 10\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 19\n          }\n        }, React.createElement(Text, {\n          style: {\n            color: \"yellow\",\n            margin: 0,\n            fontSize: 16\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 21\n          }\n        }, \"Enter a Valid email id\"), React.createElement(Text, {\n          style: {\n            color: \"yellow\",\n            margin: 0,\n            fontSize: 16\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 21\n          }\n        }, err)), err == \"\" ? null : React.createElement(View, {\n          style: ([styles.inputContainer], {\n            backgroundColor: \"transparent\",\n            marginBottom: 10\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 19\n          }\n        }, React.createElement(Text, {\n          style: {\n            color: \"yellow\",\n            margin: 0,\n            fontSize: 14\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 21\n          }\n        }, err)), React.createElement(View, {\n          style: styles.inputContainer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 17\n          }\n        }, React.createElement(TextInput, {\n          style: styles.input,\n          value: number,\n          placeholder: \"Phone Number\",\n          keyboardAppearance: \"dark\",\n          keyboardType: \"number-pad\",\n          onChangeText: function onChangeText(value) {\n            return setNumber(value);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 19\n          }\n        })), !numerr ? null : React.createElement(View, {\n          style: ([styles.inputContainer], {\n            backgroundColor: \"transparent\",\n            marginBottom: 10\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 19\n          }\n        }, React.createElement(Text, {\n          style: {\n            color: \"yellow\",\n            margin: 0,\n            fontSize: 16\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 21\n          }\n        }, \"Phone number should be 10 number\")), React.createElement(View, {\n          style: styles.inputContainer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 17\n          }\n        }, React.createElement(TextInput, {\n          style: styles.input,\n          placeholder: \"Password\",\n          value: password,\n          keyboardType: \"visible-password\",\n          keyboardAppearance: \"dark\",\n          keyboardType: \"email-address\",\n          passwordRules: true,\n          secureTextEntry: true,\n          onChangeText: function onChangeText(value) {\n            return setPassword(value);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 19\n          }\n        })), !passerr ? null : React.createElement(View, {\n          style: ([styles.inputContainer], {\n            backgroundColor: \"transparent\",\n            marginBottom: 10\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 19\n          }\n        }, React.createElement(Text, {\n          style: {\n            color: \"yellow\",\n            margin: 0,\n            fontSize: 16\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 21\n          }\n        }, \"Password should be atleast minimum 6 charecters\")), React.createElement(View, {\n          style: styles.otpButtonContainer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 17\n          }\n        }, loaded ? React.createElement(View, {\n          style: {\n            paddingVertical: -10\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 21\n          }\n        }, React.createElement(Spinner, {\n          color: \"white\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 23\n          }\n        })) : React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            sendOtp();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 21\n          }\n        }, React.createElement(Text, {\n          style: styles.optButtonText,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 23\n          }\n        }, \"Send Otp\"))), React.createElement(View, {\n          style: {\n            position: \"absolute\",\n            bottom: 20,\n            width: WIDTH * 0.9\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 17\n          }\n        }, React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            return navigation.navigate(\"SignInScreen\");\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 19\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontWeight: \"900\",\n            textAlign: \"center\",\n            color: \"white\",\n            marginVertical: WIDTH / 10\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 21\n          }\n        }, \"Already have an account? Try Sign In\"))))));\n\n      case 1:\n        return React.createElement(View, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 11\n          }\n        }, React.createElement(View, {\n          style: {\n            marginVertical: HEIGHT / 10,\n            position: \"absolute\",\n            bottom: HEIGHT * 0.7\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontSize: 25,\n            color: \"white\",\n            fontFamily: \"Andika\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 15\n          }\n        }, \"Enter the otp send to\"), React.createElement(Text, {\n          style: {\n            fontSize: 25,\n            color: \"white\",\n            fontFamily: \"Andika\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 15\n          }\n        }, \"+91 \", number)), React.createElement(View, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 13\n          }\n        }, React.createElement(View, {\n          style: styles.inputContainer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 15\n          }\n        }, React.createElement(TextInput, {\n          style: styles.input,\n          placeholder: \"Enter Otp\",\n          keyboardAppearance: \"dark\",\n          keyboardType: \"number-pad\",\n          onChangeText: function onChangeText(value) {\n            return setCode(value);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 17\n          }\n        })), !otperr ? null : React.createElement(View, {\n          style: ([styles.inputContainer], {\n            backgroundColor: \"transparent\",\n            marginBottom: 0\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 17\n          }\n        }, React.createElement(Text, {\n          style: {\n            color: \"red\",\n            marginBottom: 0,\n            fontSize: 20\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 19\n          }\n        }, \"Enter Valid Otp\")), React.createElement(View, {\n          style: {\n            flexDirection: \"row\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 15\n          }\n        }, React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            prevStep();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 17\n          }\n        }, React.createElement(View, {\n          style: styles.otpButton,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 19\n          }\n        }, React.createElement(Text, {\n          style: styles.otpText,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 21\n          }\n        }, \" Back\"))), React.createElement(View, {\n          style: [styles.otpButton, {\n            backgroundColor: \"white\"\n          }],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 17\n          }\n        }, loaded ? React.createElement(View, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 21\n          }\n        }, React.createElement(Spinner, {\n          color: \"black\",\n          size: \"large\",\n          style: {\n            padding: 20,\n            margin: -15\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 23\n          }\n        })) : React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            verifyOtp();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 21\n          }\n        }, React.createElement(Text, {\n          style: [styles.otpText, {\n            color: \"black\"\n          }],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 23\n          }\n        }, \"Sign Up\"))))));\n    }\n  };\n\n  return React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      return Keyboard.dismiss();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 519,\n      columnNumber: 5\n    }\n  }, React.createElement(Animatable.View, {\n    duration: 1000,\n    style: {\n      flex: 1,\n      alignItems: \"center\",\n      justifyContent: \"flex-end\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 521,\n      columnNumber: 7\n    }\n  }, React.createElement(ImageBackground, {\n    style: {\n      width: WIDTH,\n      height: HEIGHT + 30,\n      position: \"absolute\"\n    },\n    source: {\n      uri: \"https://images.pexels.com/photos/2249602/pexels-photo-2249602.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 529,\n      columnNumber: 9\n    }\n  }), renderView(step)));\n}\n\nexport default SignUpScreen;\nvar styles = new StyleSheet.create({\n  otpButton: {\n    marginTop: HEIGHT / 25,\n    marginBottom: 85,\n    backgroundColor: \"black\",\n    borderRadius: 10,\n    width: WIDTH / 3,\n    alignContent: \"center\",\n    marginHorizontal: 20,\n    paddingHorizontal: 10,\n    position: \"relative\"\n  },\n  otpText: {\n    textAlign: \"center\",\n    paddingVertical: 10,\n    color: \"white\",\n    fontSize: 16,\n    fontFamily: \"Andika\"\n  },\n  input: {\n    marginHorizontal: 20,\n    width: WIDTH * 0.8,\n    height: 60,\n    color: \"white\",\n    fontFamily: \"Andika\"\n  },\n  inputContainer: {\n    height: 60,\n    borderRadius: 10,\n    backgroundColor: \"#0005\",\n    marginBottom: 20\n  },\n  optButtonText: {\n    textAlign: \"center\",\n    paddingVertical: 20,\n    color: \"white\",\n    fontSize: 16,\n    fontFamily: \"Andika\"\n  },\n  otpButtonContainer: {\n    marginBottom: HEIGHT / 8,\n    backgroundColor: \"black\",\n    borderRadius: 10,\n    width: WIDTH * 0.9,\n    alignContent: \"center\",\n    position: \"relative\"\n  },\n  skip: {\n    position: \"absolute\",\n    right: 20,\n    color: \"#333\",\n    fontWeight: \"bold\",\n    marginTop: HEIGHT / 20\n  }\n});","map":{"version":3,"sources":["/Users/aravshrimath/Documents/Mobile Application/touron-mobile-app/src/Screens/AuthScreens/SignUpScreen.js"],"names":["React","useState","useRef","useEffect","useContext","AsyncStorage","Constants","AntDesign","Animatable","firebase","Spinner","Notifications","Permissions","WIDTH","Dimensions","get","width","HEIGHT","height","axios","AuthContext","SignUpScreen","navigation","number","setNumber","email","setEmail","name","setName","password","setPassword","step","setStep","code","setCode","sessionID","setSessionID","loaded","setLoaded","isLoggedIn","setIsLoggedIn","user","setUser","err","setErr","numerr","setNumErr","emailerr","setEmailErr","nameerr","setNameErr","passerr","setPassErr","otperr","setOtpErr","expoToken","setExpoToken","storeToken","value","userToken","JSON","stringify","setItem","console","log","nextStep","prevStep","sendOtp","length","includes","auth","createUserWithEmailAndPassword","then","database","ref","uid","set","phoneNumber","address","age","gender","aboutMe","travellerType","admin","pushNotificationToken","response","session","data","Details","catch","message","registerForPushNotificationsAsync","isDevice","getAsync","NOTIFICATIONS","existingStatus","status","finalStatus","askAsync","alert","getExpoPushTokenAsync","token","Platform","OS","setNotificationChannelAsync","importance","AndroidImportance","MAX","vibrationPattern","lightColor","verifyOtp","navigate","mounted","onAuthStateChanged","renderView","styles","skip","fontSize","color","fontWeight","flex","justifyContent","alignItems","marginBottom","fontFamily","inputContainer","input","backgroundColor","margin","otpButtonContainer","paddingVertical","optButtonText","position","bottom","textAlign","marginVertical","flexDirection","otpButton","otpText","padding","Keyboard","dismiss","uri","StyleSheet","create","marginTop","borderRadius","alignContent","marginHorizontal","paddingHorizontal","right"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,EAAkCC,SAAlC,EAA6CC,UAA7C,QAA+D,OAA/D;AACA,OAAOC,YAAP,MAAyB,uCAAzB;AACA,OAAOC,SAAP,MAAsB,gBAAtB;;;;;;;;;;;;AAcA,SAASC,SAAT,QAA0B,oBAA1B;AACA,OAAO,KAAKC,UAAZ,MAA4B,yBAA5B;AACA,OAAO,KAAKC,QAAZ,MAA0B,UAA1B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAO,KAAKC,aAAZ,MAA+B,oBAA/B;AACA,OAAO,KAAKC,WAAZ,MAA6B,kBAA7B;AACA,IAAMC,KAAK,GAAGC,UAAU,CAACC,GAAX,CAAe,QAAf,EAAyBC,KAAvC;AACA,IAAMC,MAAM,GAAGH,UAAU,CAACC,GAAX,CAAe,QAAf,EAAyBG,MAAxC;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT;;AAEA,SAASC,YAAT,OAAsC;AAAA,MAAdC,UAAc,QAAdA,UAAc;;AAAA,kBACRrB,QAAQ,CAAC,EAAD,CADA;AAAA;AAAA,MAC7BsB,MAD6B;AAAA,MACrBC,SADqB;;AAAA,mBAEVvB,QAAQ,CAAC,EAAD,CAFE;AAAA;AAAA,MAE7BwB,KAF6B;AAAA,MAEtBC,QAFsB;;AAAA,mBAGZzB,QAAQ,CAAC,EAAD,CAHI;AAAA;AAAA,MAG7B0B,IAH6B;AAAA,MAGvBC,OAHuB;;AAAA,mBAIJ3B,QAAQ,CAAC,EAAD,CAJJ;AAAA;AAAA,MAI7B4B,QAJ6B;AAAA,MAInBC,WAJmB;;AAAA,mBAKZ7B,QAAQ,CAAC,CAAD,CALI;AAAA;AAAA,MAK7B8B,IAL6B;AAAA,MAKvBC,OALuB;;AAAA,oBAMZ/B,QAAQ,CAAC,CAAD,CANI;AAAA;AAAA,MAM7BgC,IAN6B;AAAA,MAMvBC,OANuB;;AAAA,oBAOFjC,QAAQ,CAAC,EAAD,CAPN;AAAA;AAAA,MAO7BkC,SAP6B;AAAA,MAOlBC,YAPkB;;AAAA,oBAQRnC,QAAQ,CAAC,KAAD,CARA;AAAA;AAAA,MAQ7BoC,MAR6B;AAAA,MAQrBC,SARqB;;AAAA,oBASiBlC,UAAU,CAACgB,WAAD,CAT3B;AAAA,MAS5BmB,UAT4B,eAS5BA,UAT4B;AAAA,MAShBC,aATgB,eAShBA,aATgB;AAAA,MASDC,IATC,eASDA,IATC;AAAA,MASKC,OATL,eASKA,OATL;;AAAA,oBAUdzC,QAAQ,CAAC,EAAD,CAVM;AAAA;AAAA,MAU7B0C,GAV6B;AAAA,MAUxBC,MAVwB;;AAAA,oBAWR3C,QAAQ,CAAC,KAAD,CAXA;AAAA;AAAA,MAW7B4C,MAX6B;AAAA,MAWrBC,SAXqB;;AAAA,oBAYJ7C,QAAQ,CAAC,KAAD,CAZJ;AAAA;AAAA,MAY7B8C,QAZ6B;AAAA,MAYnBC,WAZmB;;AAAA,oBAaN/C,QAAQ,CAAC,KAAD,CAbF;AAAA;AAAA,MAa7BgD,OAb6B;AAAA,MAapBC,UAboB;;AAAA,oBAcNjD,QAAQ,CAAC,KAAD,CAdF;AAAA;AAAA,MAc7BkD,OAd6B;AAAA,MAcpBC,UAdoB;;AAAA,oBAeRnD,QAAQ,CAAC,KAAD,CAfA;AAAA;AAAA,MAe7BoD,MAf6B;AAAA,MAerBC,SAfqB;;AAAA,oBAgBFrD,QAAQ,CAAC,EAAD,CAhBN;AAAA;AAAA,MAgB7BsD,SAhB6B;AAAA,MAgBlBC,YAhBkB;;AAoBpC,MAAMC,UAAU,GAAG,SAAbA,UAAa,CAAOC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAETC,YAAAA,SAFS,GAEGC,IAAI,CAACC,SAAL,CAAeH,KAAf,CAFH;AAAA;AAAA,6CAGTrD,YAAY,CAACyD,OAAb,CAAqB,WAArB,EAAkCH,SAAlC,CAHS;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAKfI,YAAAA,OAAO,CAACC,GAAR;;AALe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAnB;;AASA,MAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACrBjC,IAAAA,OAAO,CAACD,IAAI,GAAG,CAAR,CAAP;AACAO,IAAAA,SAAS,CAAC,KAAD,CAAT;AACD,GAHD;;AAIA,MAAM4B,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACrBlC,IAAAA,OAAO,CAACD,IAAI,GAAG,CAAR,CAAP;AACAO,IAAAA,SAAS,CAAC,KAAD,CAAT;AACD,GAHD;;AAKA,MAAM6B,OAAO,GAAG,SAAVA,OAAU,GAAM;AACpBJ,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAhB,IAAAA,WAAW,CAAC,KAAD,CAAX;AACAF,IAAAA,SAAS,CAAC,KAAD,CAAT;AACAM,IAAAA,UAAU,CAAC,KAAD,CAAV;AACAF,IAAAA,UAAU,CAAC,KAAD,CAAV;;AAEA,QACE3B,MAAM,CAAC6C,MAAP,KAAkB,EAAlB,IACA3C,KAAK,CAAC4C,QAAN,CAAe,GAAf,CADA,IAEAxC,QAAQ,KAAK,EAFb,IAGAF,IAAI,KAAK,GAJX,EAKE;AACAW,MAAAA,SAAS,CAAC,IAAD,CAAT;AACA7B,MAAAA,QAAQ,CACL6D,IADH,GAEGC,8BAFH,CAEkC9C,KAFlC,EAEyCI,QAFzC,EAGG2C,IAHH,CAGQ,UAAC/B,IAAD,EAAU;AACdC,QAAAA,OAAO,CAACD,IAAD,CAAP;AAEAhC,QAAAA,QAAQ,CAACgE,QAAT,GAAoBC,GAApB,sBAA2CjC,IAAI,CAACA,IAAL,CAAUkC,GAArD,EAA4DC,GAA5D,CAAgE;AAC9DC,UAAAA,WAAW,EAAEtD,MADiD;AAE9DI,UAAAA,IAAI,EAAEA,IAFwD;AAG9DmD,UAAAA,OAAO,EAAE,EAHqD;AAI9DC,UAAAA,GAAG,EAAE,EAJyD;AAK9DC,UAAAA,MAAM,EAAE,EALsD;AAM9DC,UAAAA,OAAO,EAAE,EANqD;AAO9DC,UAAAA,aAAa,EAAE,EAP+C;AAQ9DC,UAAAA,KAAK,EAAE,KARuD;AAS9DC,UAAAA,qBAAqB,EAAE7B;AATuC,SAAhE;AAcAb,QAAAA,OAAO,CAACD,IAAD,CAAP;AACAD,QAAAA,aAAa,CAAC,IAAD,CAAb;AACAiB,QAAAA,UAAU,CAAChB,IAAD,CAAV;AAEAtB,QAAAA,KAAK,CACFJ,GADH,4EAE6EQ,MAF7E,eAIGiD,IAJH,CAIQ,UAACa,QAAD,EAAc;AAClB,cAAIC,OAAO,GAAGD,QAAQ,CAACE,IAAT,CAAcC,OAA5B;AACAzB,UAAAA,OAAO,CAACC,GAAR,CAAYsB,OAAZ,EAAqB,eAArB;AACAhD,UAAAA,SAAS,CAAC,KAAD,CAAT;AACAF,UAAAA,YAAY,CAACkD,OAAD,CAAZ;AACArB,UAAAA,QAAQ;AACT,SAVH,EAWGwB,KAXH,CAWS,UAAC9C,GAAD,EAAS;AACdoB,UAAAA,OAAO,CAACC,GAAR,CAAYrB,GAAZ,EAAiB,MAAjB;AACD,SAbH;AAcD,OAtCH,EAuCG8C,KAvCH,CAuCS,UAAC9C,GAAD,EAAS;AACdL,QAAAA,SAAS,CAAC,KAAD,CAAT;AACAM,QAAAA,MAAM,CAACD,GAAG,CAAC+C,OAAL,CAAN;AACA3B,QAAAA,OAAO,CAACC,GAAR,CAAYrB,GAAG,CAAC+C,OAAhB;AACD,OA3CH;AA4CD,KAnDD,MAmDO;AACL,UAAIjE,KAAK,CAAC4C,QAAN,CAAe,GAAf,MAAwB,KAA5B,EAAmC;AACjCrB,QAAAA,WAAW,CAAC,IAAD,CAAX;AACD;;AACD,UAAIzB,MAAM,CAAC6C,MAAP,KAAkB,EAAtB,EAA0B;AACxBtB,QAAAA,SAAS,CAAC,IAAD,CAAT;AACD;;AACD,UAAInB,IAAI,IAAI,EAAZ,EAAgB;AACduB,QAAAA,UAAU,CAAC,IAAD,CAAV;AACD;;AACD,UAAIrB,QAAQ,CAACuC,MAAT,GAAkB,CAAtB,EAAyB;AACvBhB,QAAAA,UAAU,CAAC,IAAD,CAAV;AACD;AACF;AACF,GAxED;;AA0EA,MAAMuC,iCAAiC,GAAG,SAApCA,iCAAoC,CAAOlD,IAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,iBAEpCnC,SAAS,CAACsF,QAF0B;AAAA;AAAA;AAAA;;AAAA;AAAA,6CAGGhF,WAAW,CAACiF,QAAZ,CACvCjF,WAAW,CAACkF,aAD2B,CAHH;;AAAA;AAAA;AAGtBC,YAAAA,cAHsB,yBAG9BC,MAH8B;AAMlCC,YAAAA,WANkC,GAMpBF,cANoB;;AAAA,kBAOlCA,cAAc,KAAK,SAPe;AAAA;AAAA;AAAA;;AAAA;AAAA,6CAQXnF,WAAW,CAACsF,QAAZ,CACvBtF,WAAW,CAACkF,aADW,CARW;;AAAA;AAAA;AAQ5BE,YAAAA,MAR4B,yBAQ5BA,MAR4B;AAWpCC,YAAAA,WAAW,GAAGD,MAAd;;AAXoC;AAAA,kBAalCC,WAAW,KAAK,SAbkB;AAAA;AAAA;AAAA;;AAcpCE,YAAAA,KAAK,CAAC,iDAAD,CAAL;AAdoC;;AAAA;AAAA;AAAA,6CAiBvBxF,aAAa,CAACyF,qBAAd,EAjBuB;;AAAA;AAiBtCC,YAAAA,KAjBsC,kBAiBgBd,IAjBhB;AAkBtCxB,YAAAA,OAAO,CAACC,GAAR,CAAYqC,KAAZ;AAlBsC;AAAA;;AAAA;AAoBtCF,YAAAA,KAAK,CAAC,iDAAD,CAAL;;AApBsC;AAuBxC,gBAAIG,QAAQ,CAACC,EAAT,KAAgB,SAApB,EAA+B;AAC7B5F,cAAAA,aAAa,CAAC6F,2BAAd,CAA0C,SAA1C,EAAqD;AACnD7E,gBAAAA,IAAI,EAAE,SAD6C;AAEnD8E,gBAAAA,UAAU,EAAE9F,aAAa,CAAC+F,iBAAd,CAAgCC,GAFO;AAGnDC,gBAAAA,gBAAgB,EAAE,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,EAAc,GAAd,CAHiC;AAInDC,gBAAAA,UAAU,EAAE;AAJuC,eAArD;AAMD;;AA9BuC,8CAgCjCR,KAhCiC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA1C;;AAmCAlG,EAAAA,SAAS,CAAC,YAAM;AACdwF,IAAAA,iCAAiC,GAAGnB,IAApC,CAAyC,UAAC6B,KAAD,EAAW;AAClDtC,MAAAA,OAAO,CAACC,GAAR,CAAYqC,KAAZ,EAAmB,OAAnB;AACA7C,MAAAA,YAAY,CAAC6C,KAAD,CAAZ;AACD,KAHD;AAID,GALQ,CAAT;;AAOA,MAAMS,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtBxE,IAAAA,SAAS,CAAC,IAAD,CAAT;AACAnB,IAAAA,KAAK,CACFJ,GADH,gFAEiFoB,SAFjF,SAE8FF,IAF9F,EAIGuC,IAJH,CAIQ,UAACa,QAAD,EAAc;AAClBtB,MAAAA,OAAO,CAACC,GAAR,CAAYqB,QAAZ,EAAsB,UAAtB;AACA,UAAMW,MAAM,GAAGX,QAAQ,CAACE,IAAT,CAAcC,OAA7B;AACAzB,MAAAA,OAAO,CAACC,GAAR,CAAYgC,MAAZ,EAAoB,QAApB;;AACA,UAAIA,MAAM,IAAI,aAAd,EAA6B;AAC3BpE,QAAAA,OAAO,CAAC,EAAD,CAAP;AACAJ,QAAAA,SAAS,CAAC,EAAD,CAAT;AACAM,QAAAA,WAAW,CAAC,EAAD,CAAX;AACAJ,QAAAA,QAAQ,CAAC,EAAD,CAAR;AACAgB,QAAAA,OAAO,CAACD,IAAD,CAAP;AACAD,QAAAA,aAAa,CAAC,IAAD,CAAb;AACAiB,QAAAA,UAAU,CAAChB,IAAD,CAAV;AACAH,QAAAA,SAAS,CAAC,KAAD,CAAT;AACAhB,QAAAA,UAAU,CAACyF,QAAX,CAAoB,MAApB;AACA7C,QAAAA,QAAQ;AACT;AACF,KApBH,EAqBGuB,KArBH,CAqBS,UAAC9C,GAAD,EAAS;AACdL,MAAAA,SAAS,CAAC,KAAD,CAAT;AACAyB,MAAAA,OAAO,CAACC,GAAR,CAAYrB,GAAZ,EAAiB,KAAjB;AACAW,MAAAA,SAAS,CAAC,IAAD,CAAT;AACD,KAzBH;AA0BD,GA5BD;;AA6BAnD,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI6G,OAAO,GAAG,IAAd;;AACA,QAAIA,OAAJ,EAAa;AAIXvG,MAAAA,QAAQ,CAAC6D,IAAT,GAAgB2C,kBAAhB,CAAmC,UAACxE,IAAD,EAAU;AAC3CsB,QAAAA,OAAO,CAACC,GAAR,CAAYvB,IAAZ,EAAkB,aAAlB;AACAC,QAAAA,OAAO,CAACD,IAAD,CAAP;AACD,OAHD;AAID;;AACD,WAAO;AAAA,aAAOuE,OAAO,GAAG,KAAjB;AAAA,KAAP;AACD,GAZQ,EAYN,EAZM,CAAT;;AAcA,MAAME,UAAU,GAAG,SAAbA,UAAa,CAACnF,IAAD,EAAU;AAC3B,YAAQA,IAAR;AACE,WAAK,CAAL;AACE,eACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAEoF,MAAM,CAACC,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,gBAAD;AAAkB,UAAA,OAAO,EAAE;AAAA,mBAAM9F,UAAU,CAACyF,QAAX,CAAoB,MAApB,CAAN;AAAA,WAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,IAAD;AACE,UAAA,KAAK,EAAE;AAAEM,YAAAA,QAAQ,EAAE,EAAZ;AAAgBC,YAAAA,KAAK,EAAE,MAAvB;AAA+BC,YAAAA,UAAU,EAAE;AAA3C,WADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CADF,CADF,EAUE,oBAAC,IAAD;AACE,UAAA,KAAK,EAAE;AACLC,YAAAA,IAAI,EAAE,CADD;AAELC,YAAAA,cAAc,EAAE;AAFX,WADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAME,oBAAC,UAAD,CAAY,IAAZ;AACE,UAAA,SAAS,EAAC,UADZ;AAEE,UAAA,QAAQ,EAAE,IAFZ;AAGE,UAAA,KAAK,EAAE;AAAEC,YAAAA,UAAU,EAAE;AAAd,WAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAKE,oBAAC,IAAD;AACE,UAAA,KAAK,EAAE;AAAEC,YAAAA,YAAY,EAAE1G,MAAM,GAAG,CAAzB;AAA4ByG,YAAAA,UAAU,EAAE;AAAxC,WADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAGE,oBAAC,IAAD;AACE,UAAA,KAAK,EAAE;AACLL,YAAAA,QAAQ,EAAE,EADL;AAELC,YAAAA,KAAK,EAAE,OAFF;AAGLM,YAAAA,UAAU,EAAE;AAHP,WADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAHF,CALF,EAkBE,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAET,MAAM,CAACU,cAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,SAAD;AACE,UAAA,KAAK,EAAEV,MAAM,CAACW,KADhB;AAEE,UAAA,KAAK,EAAEnG,IAFT;AAGE,UAAA,WAAW,EAAC,MAHd;AAIE,UAAA,YAAY,EAAC,kBAJf;AAKE,UAAA,kBAAkB,EAAC,MALrB;AAME,UAAA,YAAY,EAAC,eANf;AAOE,UAAA,YAAY,EAAE,sBAAC+B,KAAD;AAAA,mBAAW9B,OAAO,CAAC8B,KAAD,CAAlB;AAAA,WAPhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CAlBF,EA6BG,CAACT,OAAD,GAAW,IAAX,GACC,oBAAC,IAAD;AACE,UAAA,KAAK,GACF,CAACkE,MAAM,CAACU,cAAR,GACD;AAAEE,YAAAA,eAAe,EAAE,aAAnB;AAAkCJ,YAAAA,YAAY,EAAE;AAAhD,WAFG,CADP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAME,oBAAC,IAAD;AACE,UAAA,KAAK,EAAE;AACLL,YAAAA,KAAK,EAAE,QADF;AAELK,YAAAA,YAAY,EAAE,EAFT;AAGLN,YAAAA,QAAQ,EAAE;AAHL,WADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BANF,CA9BJ,EA+CE,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAEF,MAAM,CAACU,cAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,SAAD;AACE,UAAA,KAAK,EAAEV,MAAM,CAACW,KADhB;AAEE,UAAA,WAAW,EAAC,OAFd;AAGE,UAAA,KAAK,EAAErG,KAHT;AAIE,UAAA,YAAY,EAAC,kBAJf;AAKE,UAAA,kBAAkB,EAAC,MALrB;AAME,UAAA,YAAY,EAAC,eANf;AAOE,UAAA,YAAY,EAAE,sBAACiC,KAAD;AAAA,mBAAWhC,QAAQ,CAACgC,KAAD,CAAnB;AAAA,WAPhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CA/CF,EA0DG,CAACX,QAAD,GACC,QAAQJ,GAAG,KAAK,EADjB,GAGC,oBAAC,IAAD;AACE,UAAA,KAAK,GACF,CAACwE,MAAM,CAACU,cAAR,GACD;AAAEE,YAAAA,eAAe,EAAE,aAAnB;AAAkCJ,YAAAA,YAAY,EAAE;AAAhD,WAFG,CADP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAME,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAE;AAAEL,YAAAA,KAAK,EAAE,QAAT;AAAmBU,YAAAA,MAAM,EAAE,CAA3B;AAA8BX,YAAAA,QAAQ,EAAE;AAAxC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCANF,EASE,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAE;AAAEC,YAAAA,KAAK,EAAE,QAAT;AAAmBU,YAAAA,MAAM,EAAE,CAA3B;AAA8BX,YAAAA,QAAQ,EAAE;AAAxC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG1E,GADH,CATF,CA7DJ,EA2EGA,GAAG,IAAI,EAAP,GAAY,IAAZ,GACC,oBAAC,IAAD;AACE,UAAA,KAAK,GACF,CAACwE,MAAM,CAACU,cAAR,GACD;AAAEE,YAAAA,eAAe,EAAE,aAAnB;AAAkCJ,YAAAA,YAAY,EAAE;AAAhD,WAFG,CADP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAME,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAE;AAAEL,YAAAA,KAAK,EAAE,QAAT;AAAmBU,YAAAA,MAAM,EAAE,CAA3B;AAA8BX,YAAAA,QAAQ,EAAE;AAAxC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG1E,GADH,CANF,CA5EJ,EAwFE,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAEwE,MAAM,CAACU,cAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,SAAD;AACE,UAAA,KAAK,EAAEV,MAAM,CAACW,KADhB;AAEE,UAAA,KAAK,EAAEvG,MAFT;AAGE,UAAA,WAAW,EAAC,cAHd;AAIE,UAAA,kBAAkB,EAAC,MAJrB;AAKE,UAAA,YAAY,EAAC,YALf;AAME,UAAA,YAAY,EAAE,sBAACmC,KAAD;AAAA,mBAAWlC,SAAS,CAACkC,KAAD,CAApB;AAAA,WANhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CAxFF,EAkGG,CAACb,MAAD,GAAU,IAAV,GACC,oBAAC,IAAD;AACE,UAAA,KAAK,GACF,CAACsE,MAAM,CAACU,cAAR,GACD;AAAEE,YAAAA,eAAe,EAAE,aAAnB;AAAkCJ,YAAAA,YAAY,EAAE;AAAhD,WAFG,CADP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAME,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAE;AAAEL,YAAAA,KAAK,EAAE,QAAT;AAAmBU,YAAAA,MAAM,EAAE,CAA3B;AAA8BX,YAAAA,QAAQ,EAAE;AAAxC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CANF,CAnGJ,EA8GE,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAEF,MAAM,CAACU,cAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,SAAD;AACE,UAAA,KAAK,EAAEV,MAAM,CAACW,KADhB;AAEE,UAAA,WAAW,EAAC,UAFd;AAGE,UAAA,KAAK,EAAEjG,QAHT;AAIE,UAAA,YAAY,EAAC,kBAJf;AAKE,UAAA,kBAAkB,EAAC,MALrB;AAME,UAAA,YAAY,EAAC,eANf;AAOE,UAAA,aAAa,EAAE,IAPjB;AAQE,UAAA,eAAe,EAAE,IARnB;AASE,UAAA,YAAY,EAAE,sBAAC6B,KAAD;AAAA,mBAAW5B,WAAW,CAAC4B,KAAD,CAAtB;AAAA,WAThB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CA9GF,EA2HG,CAACP,OAAD,GAAW,IAAX,GACC,oBAAC,IAAD;AACE,UAAA,KAAK,GACF,CAACgE,MAAM,CAACU,cAAR,GACD;AAAEE,YAAAA,eAAe,EAAE,aAAnB;AAAkCJ,YAAAA,YAAY,EAAE;AAAhD,WAFG,CADP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAME,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAE;AAAEL,YAAAA,KAAK,EAAE,QAAT;AAAmBU,YAAAA,MAAM,EAAE,CAA3B;AAA8BX,YAAAA,QAAQ,EAAE;AAAxC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6DANF,CA5HJ,EAwIE,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAEF,MAAM,CAACc,kBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG5F,MAAM,GACL,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAE;AAAE6F,YAAAA,eAAe,EAAE,CAAC;AAApB,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,OAAD;AAAS,UAAA,KAAK,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADK,GAKL,oBAAC,gBAAD;AACE,UAAA,OAAO,EAAE,mBAAM;AACb/D,YAAAA,OAAO;AACR,WAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAKE,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAEgD,MAAM,CAACgB,aAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBALF,CANJ,CAxIF,EAuJE,oBAAC,IAAD;AACE,UAAA,KAAK,EAAE;AACLC,YAAAA,QAAQ,EAAE,UADL;AAELC,YAAAA,MAAM,EAAE,EAFH;AAGLrH,YAAAA,KAAK,EAAEH,KAAK,GAAG;AAHV,WADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAOE,oBAAC,gBAAD;AACE,UAAA,OAAO,EAAE;AAAA,mBAAMS,UAAU,CAACyF,QAAX,CAAoB,cAApB,CAAN;AAAA,WADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAGE,oBAAC,IAAD;AACE,UAAA,KAAK,EAAE;AACLQ,YAAAA,UAAU,EAAE,KADP;AAELe,YAAAA,SAAS,EAAE,QAFN;AAGLhB,YAAAA,KAAK,EAAE,OAHF;AAILiB,YAAAA,cAAc,EAAE1H,KAAK,GAAG;AAJnB,WADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDAHF,CAPF,CAvJF,CANF,CAVF,CADF;;AAkMF,WAAK,CAAL;AACE,eACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,IAAD;AACE,UAAA,KAAK,EAAE;AACL0H,YAAAA,cAAc,EAAEtH,MAAM,GAAG,EADpB;AAGLmH,YAAAA,QAAQ,EAAE,UAHL;AAILC,YAAAA,MAAM,EAAEpH,MAAM,GAAG;AAJZ,WADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAQE,oBAAC,IAAD;AACE,UAAA,KAAK,EAAE;AACLoG,YAAAA,QAAQ,EAAE,EADL;AAELC,YAAAA,KAAK,EAAE,OAFF;AAILM,YAAAA,UAAU,EAAE;AAJP,WADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCARF,EAkBE,oBAAC,IAAD;AACE,UAAA,KAAK,EAAE;AAAEP,YAAAA,QAAQ,EAAE,EAAZ;AAAgBC,YAAAA,KAAK,EAAE,OAAvB;AAAgCM,YAAAA,UAAU,EAAE;AAA5C,WADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAGOrG,MAHP,CAlBF,CADF,EAyBE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAE4F,MAAM,CAACU,cAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,SAAD;AACE,UAAA,KAAK,EAAEV,MAAM,CAACW,KADhB;AAEE,UAAA,WAAW,EAAC,WAFd;AAGE,UAAA,kBAAkB,EAAC,MAHrB;AAIE,UAAA,YAAY,EAAC,YAJf;AAKE,UAAA,YAAY,EAAE,sBAACpE,KAAD;AAAA,mBAAWxB,OAAO,CAACwB,KAAD,CAAlB;AAAA,WALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADF,EAUG,CAACL,MAAD,GAAU,IAAV,GACC,oBAAC,IAAD;AACE,UAAA,KAAK,GACF,CAAC8D,MAAM,CAACU,cAAR,GACD;AAAEE,YAAAA,eAAe,EAAE,aAAnB;AAAkCJ,YAAAA,YAAY,EAAE;AAAhD,WAFG,CADP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAME,oBAAC,IAAD;AACE,UAAA,KAAK,EAAE;AACLL,YAAAA,KAAK,EAAE,KADF;AAELK,YAAAA,YAAY,EAAE,CAFT;AAGLN,YAAAA,QAAQ,EAAE;AAHL,WADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BANF,CAXJ,EA6BE,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAE;AAAEmB,YAAAA,aAAa,EAAE;AAAjB,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,gBAAD;AACE,UAAA,OAAO,EAAE,mBAAM;AACbtE,YAAAA,QAAQ;AACT,WAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAKE,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAEiD,MAAM,CAACsB,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAEtB,MAAM,CAACuB,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,CALF,CADF,EAWE,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAE,CAACvB,MAAM,CAACsB,SAAR,EAAmB;AAAEV,YAAAA,eAAe,EAAE;AAAnB,WAAnB,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG1F,MAAM,GACL,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,OAAD;AACE,UAAA,KAAK,EAAC,OADR;AAEE,UAAA,IAAI,EAAC,OAFP;AAGE,UAAA,KAAK,EAAE;AAAEsG,YAAAA,OAAO,EAAE,EAAX;AAAeX,YAAAA,MAAM,EAAE,CAAC;AAAxB,WAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADK,GASL,oBAAC,gBAAD;AACE,UAAA,OAAO,EAAE,mBAAM;AACblB,YAAAA,SAAS;AACV,WAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAKE,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAE,CAACK,MAAM,CAACuB,OAAR,EAAiB;AAAEpB,YAAAA,KAAK,EAAE;AAAT,WAAjB,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBALF,CAVJ,CAXF,CA7BF,CAzBF,CADF;AArMJ;AAiSD,GAlSD;;AAoSA,SACE,oBAAC,wBAAD;AAA0B,IAAA,OAAO,EAAE;AAAA,aAAMsB,QAAQ,CAACC,OAAT,EAAN;AAAA,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE,oBAAC,UAAD,CAAY,IAAZ;AACE,IAAA,QAAQ,EAAE,IADZ;AAEE,IAAA,KAAK,EAAE;AACLrB,MAAAA,IAAI,EAAE,CADD;AAELE,MAAAA,UAAU,EAAE,QAFP;AAGLD,MAAAA,cAAc,EAAE;AAHX,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQE,oBAAC,eAAD;AACE,IAAA,KAAK,EAAE;AACLzG,MAAAA,KAAK,EAAEH,KADF;AAELK,MAAAA,MAAM,EAAED,MAAM,GAAG,EAFZ;AAGLmH,MAAAA,QAAQ,EAAE;AAHL,KADT;AAQE,IAAA,MAAM,EAAE;AACNU,MAAAA,GAAG,EACD;AAFI,KARV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,EAqBG5B,UAAU,CAACnF,IAAD,CArBb,CAFF,CADF;AA6BD;;AAED,eAAeV,YAAf;AAEA,IAAM8F,MAAM,GAAG,IAAI4B,UAAU,CAACC,MAAf,CAAsB;AACnCP,EAAAA,SAAS,EAAE;AACTQ,IAAAA,SAAS,EAAEhI,MAAM,GAAG,EADX;AAET0G,IAAAA,YAAY,EAAE,EAFL;AAGTI,IAAAA,eAAe,EAAE,OAHR;AAITmB,IAAAA,YAAY,EAAE,EAJL;AAKTlI,IAAAA,KAAK,EAAEH,KAAK,GAAG,CALN;AAMTsI,IAAAA,YAAY,EAAE,QANL;AAOTC,IAAAA,gBAAgB,EAAE,EAPT;AAQTC,IAAAA,iBAAiB,EAAE,EARV;AASTjB,IAAAA,QAAQ,EAAE;AATD,GADwB;AAYnCM,EAAAA,OAAO,EAAE;AACPJ,IAAAA,SAAS,EAAE,QADJ;AAEPJ,IAAAA,eAAe,EAAE,EAFV;AAGPZ,IAAAA,KAAK,EAAE,OAHA;AAIPD,IAAAA,QAAQ,EAAE,EAJH;AAKPO,IAAAA,UAAU,EAAE;AALL,GAZ0B;AAoBnCE,EAAAA,KAAK,EAAE;AACLsB,IAAAA,gBAAgB,EAAE,EADb;AAELpI,IAAAA,KAAK,EAAEH,KAAK,GAAG,GAFV;AAGLK,IAAAA,MAAM,EAAE,EAHH;AAILoG,IAAAA,KAAK,EAAE,OAJF;AAKLM,IAAAA,UAAU,EAAE;AALP,GApB4B;AA2BnCC,EAAAA,cAAc,EAAE;AACd3G,IAAAA,MAAM,EAAE,EADM;AAEdgI,IAAAA,YAAY,EAAE,EAFA;AAGdnB,IAAAA,eAAe,EAAE,OAHH;AAIdJ,IAAAA,YAAY,EAAE;AAJA,GA3BmB;AAiCnCQ,EAAAA,aAAa,EAAE;AACbG,IAAAA,SAAS,EAAE,QADE;AAEbJ,IAAAA,eAAe,EAAE,EAFJ;AAGbZ,IAAAA,KAAK,EAAE,OAHM;AAIbD,IAAAA,QAAQ,EAAE,EAJG;AAKbO,IAAAA,UAAU,EAAE;AALC,GAjCoB;AAyCnCK,EAAAA,kBAAkB,EAAE;AAClBN,IAAAA,YAAY,EAAE1G,MAAM,GAAG,CADL;AAElB8G,IAAAA,eAAe,EAAE,OAFC;AAGlBmB,IAAAA,YAAY,EAAE,EAHI;AAIlBlI,IAAAA,KAAK,EAAEH,KAAK,GAAG,GAJG;AAKlBsI,IAAAA,YAAY,EAAE,QALI;AAMlBf,IAAAA,QAAQ,EAAE;AANQ,GAzCe;AAiDnChB,EAAAA,IAAI,EAAE;AACJgB,IAAAA,QAAQ,EAAE,UADN;AAEJkB,IAAAA,KAAK,EAAE,EAFH;AAGJhC,IAAAA,KAAK,EAAE,MAHH;AAIJC,IAAAA,UAAU,EAAE,MAJR;AAKJ0B,IAAAA,SAAS,EAAEhI,MAAM,GAAG;AALhB;AAjD6B,CAAtB,CAAf","sourcesContent":["import React, { useState, useRef, useEffect, useContext } from \"react\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport Constants from \"expo-constants\";\nimport {\n  View,\n  Text,\n  KeyboardAvoidingView,\n  TouchableOpacity,\n  ImageBackground,\n  StyleSheet,\n  Dimensions,\n  Alert,\n  TouchableWithoutFeedback,\n  Keyboard,\n  TextInput,\n} from \"react-native\";\nimport { AntDesign } from \"@expo/vector-icons\";\nimport * as Animatable from \"react-native-animatable\";\nimport * as firebase from \"firebase\";\nimport { Spinner } from \"native-base\";\nimport * as Notifications from \"expo-notifications\";\nimport * as Permissions from \"expo-permissions\";\nconst WIDTH = Dimensions.get(\"window\").width;\nconst HEIGHT = Dimensions.get(\"window\").height;\n\nimport axios from \"axios\";\nimport { AuthContext } from \"../../context/AuthContext\";\n\nfunction SignUpScreen({ navigation }) {\n  const [number, setNumber] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [step, setStep] = useState(0);\n  const [code, setCode] = useState(0);\n  const [sessionID, setSessionID] = useState(\"\");\n  const [loaded, setLoaded] = useState(false);\n  const { isLoggedIn, setIsLoggedIn, user, setUser } = useContext(AuthContext);\n  const [err, setErr] = useState(\"\");\n  const [numerr, setNumErr] = useState(false);\n  const [emailerr, setEmailErr] = useState(false);\n  const [nameerr, setNameErr] = useState(false);\n  const [passerr, setPassErr] = useState(false);\n  const [otperr, setOtpErr] = useState(false);\n  const [expoToken, setExpoToken] = useState(\"\");\n\n  // console.log(!email.includes(\"@\"), \"A\");\n\n  const storeToken = async (value) => {\n    try {\n      const userToken = JSON.stringify(value);\n      await AsyncStorage.setItem(\"userToken\", userToken);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const nextStep = () => {\n    setStep(step + 1);\n    setLoaded(false);\n  };\n  const prevStep = () => {\n    setStep(step - 1);\n    setLoaded(false);\n  };\n\n  const sendOtp = () => {\n    console.log(\"clicked\");\n    setEmailErr(false);\n    setNumErr(false);\n    setPassErr(false);\n    setNameErr(false);\n\n    if (\n      number.length === 10 &&\n      email.includes(\"@\") &&\n      password !== \"\" &&\n      name !== \" \"\n    ) {\n      setLoaded(true);\n      firebase\n        .auth()\n        .createUserWithEmailAndPassword(email, password)\n        .then((user) => {\n          setUser(user);\n\n          firebase.database().ref(`userGeneralInfo/${user.user.uid}`).set({\n            phoneNumber: number,\n            name: name,\n            address: \"\",\n            age: \"\",\n            gender: \"\",\n            aboutMe: \"\",\n            travellerType: \"\",\n            admin: false,\n            pushNotificationToken: expoToken,\n          });\n\n          // registerForPushNotificationsAsync(user);\n\n          setUser(user);\n          setIsLoggedIn(true);\n          storeToken(user);\n\n          axios\n            .get(\n              `https://2factor.in/API/V1/4196cbc9-0df2-11eb-9fa5-0200cd936042/SMS/+91${number}/AUTOGEN`\n            )\n            .then((response) => {\n              let session = response.data.Details;\n              console.log(session, \"RESPONSE DATA\");\n              setLoaded(false);\n              setSessionID(session);\n              nextStep();\n            })\n            .catch((err) => {\n              console.log(err, \"kjhk\");\n            });\n        })\n        .catch((err) => {\n          setLoaded(false);\n          setErr(err.message);\n          console.log(err.message);\n        });\n    } else {\n      if (email.includes(\"@\") === false) {\n        setEmailErr(true);\n      }\n      if (number.length !== 10) {\n        setNumErr(true);\n      }\n      if (name == \"\") {\n        setNameErr(true);\n      }\n      if (password.length < 6) {\n        setPassErr(true);\n      }\n    }\n  };\n\n  const registerForPushNotificationsAsync = async (user) => {\n    let token;\n    if (Constants.isDevice) {\n      const { status: existingStatus } = await Permissions.getAsync(\n        Permissions.NOTIFICATIONS\n      );\n      let finalStatus = existingStatus;\n      if (existingStatus !== \"granted\") {\n        const { status } = await Permissions.askAsync(\n          Permissions.NOTIFICATIONS\n        );\n        finalStatus = status;\n      }\n      if (finalStatus !== \"granted\") {\n        alert(\"Failed to get push token for push notification!\");\n        return;\n      }\n      token = (await Notifications.getExpoPushTokenAsync()).data;\n      console.log(token);\n    } else {\n      alert(\"Must use physical device for Push Notifications\");\n    }\n\n    if (Platform.OS === \"android\") {\n      Notifications.setNotificationChannelAsync(\"default\", {\n        name: \"default\",\n        importance: Notifications.AndroidImportance.MAX,\n        vibrationPattern: [0, 250, 250, 250],\n        lightColor: \"#FF231F7C\",\n      });\n    }\n\n    return token;\n  };\n\n  useEffect(() => {\n    registerForPushNotificationsAsync().then((token) => {\n      console.log(token, \"tokem\");\n      setExpoToken(token);\n    });\n  });\n\n  const verifyOtp = () => {\n    setLoaded(true);\n    axios\n      .get(\n        `https://2factor.in/API/V1/4196cbc9-0df2-11eb-9fa5-0200cd936042/SMS/VERIFY/${sessionID}/${code}`\n      )\n      .then((response) => {\n        console.log(response, \"RESPONSE\");\n        const status = response.data.Details;\n        console.log(status, \"STATUS\");\n        if (status == \"OTP Matched\") {\n          setName(\"\");\n          setNumber(\"\");\n          setPassword(\"\");\n          setEmail(\"\");\n          setUser(user);\n          setIsLoggedIn(true);\n          storeToken(user);\n          setLoaded(false);\n          navigation.navigate(\"Main\");\n          prevStep();\n        }\n      })\n      .catch((err) => {\n        setLoaded(false);\n        console.log(err, \"err\");\n        setOtpErr(true);\n      });\n  };\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      // setTimeout(() => {\n      //   setLoaded(false);\n      // }, 1000);\n      firebase.auth().onAuthStateChanged((user) => {\n        console.log(user, \"MANIVASAGAM\");\n        setUser(user);\n      });\n    }\n    return () => (mounted = false);\n  }, []);\n\n  const renderView = (step) => {\n    switch (step) {\n      case 0:\n        return (\n          <View>\n            <View style={styles.skip}>\n              <TouchableOpacity onPress={() => navigation.navigate(\"Main\")}>\n                <Text\n                  style={{ fontSize: 18, color: \"#333\", fontWeight: \"bold\" }}\n                >\n                  Skip\n                </Text>\n              </TouchableOpacity>\n            </View>\n            <View\n              style={{\n                flex: 1,\n                justifyContent: \"flex-end\",\n              }}\n            >\n              <Animatable.View\n                animation=\"fadeInUp\"\n                duration={1500}\n                style={{ alignItems: \"center\" }}\n              >\n                <View\n                  style={{ marginBottom: HEIGHT / 7, alignItems: \"center\" }}\n                >\n                  <Text\n                    style={{\n                      fontSize: 40,\n                      color: \"white\",\n                      fontFamily: \"NewYorkl\",\n                    }}\n                  >\n                    Sign Up\n                  </Text>\n                </View>\n                <View style={styles.inputContainer}>\n                  <TextInput\n                    style={styles.input}\n                    value={name}\n                    placeholder=\"Name\"\n                    keyboardType=\"visible-password\"\n                    keyboardAppearance=\"dark\"\n                    keyboardType=\"email-address\"\n                    onChangeText={(value) => setName(value)}\n                  />\n                </View>\n                {!nameerr ? null : (\n                  <View\n                    style={\n                      ([styles.inputContainer],\n                      { backgroundColor: \"transparent\", marginBottom: 0 })\n                    }\n                  >\n                    <Text\n                      style={{\n                        color: \"yellow\",\n                        marginBottom: 10,\n                        fontSize: 16,\n                      }}\n                    >\n                      Enter Your Name\n                    </Text>\n                  </View>\n                )}\n                <View style={styles.inputContainer}>\n                  <TextInput\n                    style={styles.input}\n                    placeholder=\"Email\"\n                    value={email}\n                    keyboardType=\"visible-password\"\n                    keyboardAppearance=\"dark\"\n                    keyboardType=\"email-address\"\n                    onChangeText={(value) => setEmail(value)}\n                  />\n                </View>\n                {!emailerr ? (\n                  null && err !== \"\"\n                ) : (\n                  <View\n                    style={\n                      ([styles.inputContainer],\n                      { backgroundColor: \"transparent\", marginBottom: 10 })\n                    }\n                  >\n                    <Text style={{ color: \"yellow\", margin: 0, fontSize: 16 }}>\n                      Enter a Valid email id\n                    </Text>\n                    <Text style={{ color: \"yellow\", margin: 0, fontSize: 16 }}>\n                      {err}\n                    </Text>\n                  </View>\n                )}\n                {err == \"\" ? null : (\n                  <View\n                    style={\n                      ([styles.inputContainer],\n                      { backgroundColor: \"transparent\", marginBottom: 10 })\n                    }\n                  >\n                    <Text style={{ color: \"yellow\", margin: 0, fontSize: 14 }}>\n                      {err}\n                    </Text>\n                  </View>\n                )}\n\n                <View style={styles.inputContainer}>\n                  <TextInput\n                    style={styles.input}\n                    value={number}\n                    placeholder=\"Phone Number\"\n                    keyboardAppearance=\"dark\"\n                    keyboardType=\"number-pad\"\n                    onChangeText={(value) => setNumber(value)}\n                  />\n                </View>\n                {!numerr ? null : (\n                  <View\n                    style={\n                      ([styles.inputContainer],\n                      { backgroundColor: \"transparent\", marginBottom: 10 })\n                    }\n                  >\n                    <Text style={{ color: \"yellow\", margin: 0, fontSize: 16 }}>\n                      Phone number should be 10 number\n                    </Text>\n                  </View>\n                )}\n                <View style={styles.inputContainer}>\n                  <TextInput\n                    style={styles.input}\n                    placeholder=\"Password\"\n                    value={password}\n                    keyboardType=\"visible-password\"\n                    keyboardAppearance=\"dark\"\n                    keyboardType=\"email-address\"\n                    passwordRules={true}\n                    secureTextEntry={true}\n                    onChangeText={(value) => setPassword(value)}\n                  />\n                </View>\n                {!passerr ? null : (\n                  <View\n                    style={\n                      ([styles.inputContainer],\n                      { backgroundColor: \"transparent\", marginBottom: 10 })\n                    }\n                  >\n                    <Text style={{ color: \"yellow\", margin: 0, fontSize: 16 }}>\n                      Password should be atleast minimum 6 charecters\n                    </Text>\n                  </View>\n                )}\n\n                <View style={styles.otpButtonContainer}>\n                  {loaded ? (\n                    <View style={{ paddingVertical: -10 }}>\n                      <Spinner color=\"white\" />\n                    </View>\n                  ) : (\n                    <TouchableOpacity\n                      onPress={() => {\n                        sendOtp();\n                      }}\n                    >\n                      <Text style={styles.optButtonText}>Send Otp</Text>\n                    </TouchableOpacity>\n                  )}\n                </View>\n                <View\n                  style={{\n                    position: \"absolute\",\n                    bottom: 20,\n                    width: WIDTH * 0.9,\n                  }}\n                >\n                  <TouchableOpacity\n                    onPress={() => navigation.navigate(\"SignInScreen\")}\n                  >\n                    <Text\n                      style={{\n                        fontWeight: \"900\",\n                        textAlign: \"center\",\n                        color: \"white\",\n                        marginVertical: WIDTH / 10,\n                      }}\n                    >\n                      Already have an account? Try Sign In\n                    </Text>\n                  </TouchableOpacity>\n                </View>\n              </Animatable.View>\n            </View>\n          </View>\n        );\n      case 1:\n        return (\n          <View>\n            <View\n              style={{\n                marginVertical: HEIGHT / 10,\n                //  justifyContent: \"t\",\n                position: \"absolute\",\n                bottom: HEIGHT * 0.7,\n              }}\n            >\n              <Text\n                style={{\n                  fontSize: 25,\n                  color: \"white\",\n                  // marginBottom: 10,\n                  fontFamily: \"Andika\",\n                }}\n              >\n                Enter the otp send to\n              </Text>\n              <Text\n                style={{ fontSize: 25, color: \"white\", fontFamily: \"Andika\" }}\n              >\n                +91 {number}\n              </Text>\n            </View>\n            <View>\n              <View style={styles.inputContainer}>\n                <TextInput\n                  style={styles.input}\n                  placeholder=\"Enter Otp\"\n                  keyboardAppearance=\"dark\"\n                  keyboardType=\"number-pad\"\n                  onChangeText={(value) => setCode(value)}\n                />\n              </View>\n              {!otperr ? null : (\n                <View\n                  style={\n                    ([styles.inputContainer],\n                    { backgroundColor: \"transparent\", marginBottom: 0 })\n                  }\n                >\n                  <Text\n                    style={{\n                      color: \"red\",\n                      marginBottom: 0,\n                      fontSize: 20,\n                    }}\n                  >\n                    Enter Valid Otp\n                  </Text>\n                </View>\n              )}\n\n              <View style={{ flexDirection: \"row\" }}>\n                <TouchableOpacity\n                  onPress={() => {\n                    prevStep();\n                  }}\n                >\n                  <View style={styles.otpButton}>\n                    <Text style={styles.otpText}> Back</Text>\n                  </View>\n                </TouchableOpacity>\n\n                <View style={[styles.otpButton, { backgroundColor: \"white\" }]}>\n                  {loaded ? (\n                    <View>\n                      <Spinner\n                        color=\"black\"\n                        size=\"large\"\n                        style={{ padding: 20, margin: -15 }}\n                      />\n                    </View>\n                  ) : (\n                    <TouchableOpacity\n                      onPress={() => {\n                        verifyOtp();\n                      }}\n                    >\n                      <Text style={[styles.otpText, { color: \"black\" }]}>\n                        Sign Up\n                      </Text>\n                    </TouchableOpacity>\n                  )}\n                </View>\n              </View>\n            </View>\n          </View>\n        );\n    }\n  };\n\n  return (\n    <TouchableWithoutFeedback onPress={() => Keyboard.dismiss()}>\n      {/* <KeyboardAvoidingView style={{ flex: 1 }} behavior=\"position\"> */}\n      <Animatable.View\n        duration={1000}\n        style={{\n          flex: 1,\n          alignItems: \"center\",\n          justifyContent: \"flex-end\",\n        }}\n      >\n        <ImageBackground\n          style={{\n            width: WIDTH,\n            height: HEIGHT + 30,\n            position: \"absolute\",\n            //zIndex: -2,\n          }}\n          // source={require(\"../../../assets/loginimage.jpg\")}\n          source={{\n            uri:\n              \"https://images.pexels.com/photos/2249602/pexels-photo-2249602.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\",\n          }}\n        />\n        {renderView(step)}\n      </Animatable.View>\n      {/* </KeyboardAvoidingView> */}\n    </TouchableWithoutFeedback>\n  );\n}\n\nexport default SignUpScreen;\n\nconst styles = new StyleSheet.create({\n  otpButton: {\n    marginTop: HEIGHT / 25,\n    marginBottom: 85,\n    backgroundColor: \"black\",\n    borderRadius: 10,\n    width: WIDTH / 3,\n    alignContent: \"center\",\n    marginHorizontal: 20,\n    paddingHorizontal: 10,\n    position: \"relative\",\n  },\n  otpText: {\n    textAlign: \"center\",\n    paddingVertical: 10,\n    color: \"white\",\n    fontSize: 16,\n    fontFamily: \"Andika\",\n    // fontWeight: \"bold\",\n  },\n  input: {\n    marginHorizontal: 20,\n    width: WIDTH * 0.8,\n    height: 60,\n    color: \"white\",\n    fontFamily: \"Andika\",\n  },\n  inputContainer: {\n    height: 60,\n    borderRadius: 10,\n    backgroundColor: \"#0005\",\n    marginBottom: 20,\n  },\n  optButtonText: {\n    textAlign: \"center\",\n    paddingVertical: 20,\n    color: \"white\",\n    fontSize: 16,\n    fontFamily: \"Andika\",\n    //  fontWeight: \"bold\",\n  },\n  otpButtonContainer: {\n    marginBottom: HEIGHT / 8,\n    backgroundColor: \"black\",\n    borderRadius: 10,\n    width: WIDTH * 0.9,\n    alignContent: \"center\",\n    position: \"relative\",\n  },\n  skip: {\n    position: \"absolute\",\n    right: 20,\n    color: \"#333\",\n    fontWeight: \"bold\",\n    marginTop: HEIGHT / 20,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}