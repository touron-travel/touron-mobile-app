{"ast":null,"code":"var _jsxFileName = \"/Users/aravshrimath/Documents/Mobile Application/touron-mobile-app/src/Screens/CheckoutScreens/ProgressScreen.js\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport * as firebase from \"firebase\";\nimport { ScrollView, FlatList } from \"react-native-gesture-handler\";\nimport { ProgressCircle } from \"react-native-svg-charts\";\nvar WIDTH = Dimensions.get(\"window\").width;\nvar HEIGHT = Dimensions.get(\"window\").height;\nimport { PieChart } from \"react-native-svg-charts\";\nimport { Surface } from \"react-native-paper\";\nimport { SelfTourContext } from \"../../context/SelfTourContext\";\n\nvar ProgressScreen = function ProgressScreen(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n\n  var _useContext = useContext(SelfTourContext),\n      details = _useContext.details;\n\n  var finalTour = route.params.selectedTours;\n  var cityDetails = route.params.cityDetails;\n  var cityTourNames = [];\n  finalTour.forEach(function (tour) {\n    cityTourNames.push({\n      cityName: tour.cityName,\n      tourName: tour.tourName\n    });\n  });\n  console.log(cityTourNames);\n  console.log(finalTour, \"LLLLL\");\n  var empty = {};\n  cityDetails.forEach(function (city) {\n    var CITYNAME = city.name;\n    var arr3 = finalTour.filter(function (tour) {\n      return CITYNAME.includes(tour.cityName);\n    });\n    console.log(arr3);\n    empty[CITYNAME] = arr3;\n  });\n  console.log(empty, \"Empty\");\n  var specificCityTours = [];\n  cityDetails.forEach(function (city) {\n    var CITYNAME = city.name;\n    var arr3 = finalTour.filter(function (tour) {\n      return CITYNAME.includes(tour.cityName);\n    });\n    specificCityTours.push({\n      cityName: city.name,\n      tours: arr3\n    });\n  });\n  var cityTourDurations = [];\n  specificCityTours.forEach(function (c) {\n    var tourduration = 0;\n    var durations = c.tours.forEach(function (t) {\n      var length = t.duration.length;\n      tourduration += length < 11 ? t.duration.slice(2, 4) * 1 : t.duration.slice(3, 5) * 1;\n      return tourduration;\n    });\n    cityTourDurations.push({\n      cityName: c.cityName,\n      tourDurations: tourduration\n    });\n  });\n  var cityTourDetails = [];\n  cityTourDurations.forEach(function (c) {\n    var city = {};\n    cityDetails.forEach(function (t) {\n      if (t.name == c.cityName) {\n        city = {\n          cityName: t.name,\n          tourDurations: c.tourDurations,\n          cityDays: t.days\n        };\n      }\n    });\n    cityTourDetails.push(city);\n  });\n  return React.createElement(ScrollView, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1,\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      backgroundColor: \"#FFF\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: {\n      width: WIDTH,\n      height: HEIGHT / 4,\n      backgroundColor: \"#28C9E1\",\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 20,\n      color: \"#FFF\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  }, \"Progress Page\")), React.createElement(View, {\n    style: {\n      borderTopLeftRadius: 40,\n      width: WIDTH,\n      alignItems: \"center\",\n      top: -25,\n      borderWidth: 2,\n      borderColor: \"#FFF\",\n      borderTopRightRadius: 30,\n      backgroundColor: \"#FFF\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, React.createElement(FlatList, {\n    data: cityTourDetails,\n    showsHorizontalScrollIndicator: false,\n    horizontal: true,\n    pagingEnabled: true,\n    keyExtractor: function keyExtractor(item) {\n      return item.cityName;\n    },\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item;\n      var data = [(item.cityDays - 1) * 8, 20, item.cityDays * 2, item.cityDays * 3, item.tourDurations];\n      var colors = [\"#47B39C\", \"#58508d\", \"#bc5090\", \"#ff6361\", \"#ffa600\"];\n      var pieData = data.filter(function (value) {\n        return value > 0;\n      }).map(function (value, index) {\n        return {\n          value: value,\n          svg: {\n            fill: colors[index],\n            onPress: function onPress() {\n              return React.createElement(View, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 23\n                }\n              }, React.createElement(Text, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 25\n                }\n              }, \"Airport\"));\n            }\n          },\n          key: \"pie-\" + index\n        };\n      });\n      return React.createElement(View, {\n        style: {\n          flex: 1,\n          width: WIDTH,\n          justifyContent: \"center\",\n          borderColor: \"#FFF\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: {\n          position: \"relative\",\n          zIndex: 0,\n          marginTop: 40,\n          alignItems: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 19\n        }\n      }, React.createElement(Surface, {\n        style: {\n          elevation: 15,\n          height: HEIGHT * 0.5,\n          width: WIDTH * 0.8,\n          borderRadius: 25,\n          backgroundColor: \"#FFF\",\n          alignItems: \"center\",\n          justifyContent: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 20,\n          color: \"#B6BCC4\",\n          fontFamily: \"Avenir\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 23\n        }\n      }, \"Destination\"), React.createElement(Text, {\n        style: {\n          fontSize: 30,\n          color: \"#626E7B\",\n          paddingBottom: 30,\n          fontFamily: \"Avenir\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 23\n        }\n      }, item.cityName), React.createElement(PieChart, {\n        innerRadius: 1,\n        style: {\n          height: 200,\n          width: 200\n        },\n        data: pieData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 23\n        }\n      }), React.createElement(View, {\n        style: {\n          backgroundColor: \"#F1F3F6\",\n          borderRadius: 20,\n          marginTop: 20,\n          paddingHorizontal: 20,\n          paddingVertical: 8\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 23\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 18,\n          color: \"#626E7B\",\n          fontFamily: \"Avenir\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 25\n        }\n      }, item.cityDays, \" Days\")))), React.createElement(View, {\n        style: {\n          marginHorizontal: 20,\n          marginVertical: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 19\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 30,\n          color: \"#626E7B\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 21\n        }\n      }, \"Legends\")), React.createElement(View, {\n        style: {},\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 19\n        }\n      }, React.createElement(Surface, {\n        style: {\n          elevation: 10,\n          marginHorizontal: 20,\n          height: 90,\n          borderRadius: 20,\n          marginBottom: 18,\n          justifyContent: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 21\n        }\n      }, React.createElement(View, {\n        style: {\n          flexDirection: \"row\",\n          alignItems: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 23\n        }\n      }, React.createElement(View, {\n        style: {\n          height: WIDTH / 10,\n          width: WIDTH / 10,\n          borderRadius: 10,\n          marginHorizontal: 20,\n          backgroundColor: \"#ffa600\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 25\n        }\n      }), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontWeight: \"bold\",\n          fontSize: 18,\n          marginHorizontal: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 27\n        }\n      }, item.tourDurations, \" Hours\"), React.createElement(Text, {\n        style: {\n          fontSize: 12,\n          marginHorizontal: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 27\n        }\n      }, \"Total Tour Hours based on your selection\")))), React.createElement(Surface, {\n        style: {\n          elevation: 10,\n          marginHorizontal: 20,\n          height: 90,\n          borderRadius: 20,\n          marginBottom: 25,\n          justifyContent: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 21\n        }\n      }, React.createElement(View, {\n        style: {\n          flexDirection: \"row\",\n          alignItems: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 23\n        }\n      }, React.createElement(View, {\n        style: {\n          height: WIDTH / 10,\n          width: WIDTH / 10,\n          borderRadius: 10,\n          marginHorizontal: 20,\n          backgroundColor: \"#47B39C\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 25\n        }\n      }), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontWeight: \"bold\",\n          fontSize: 18,\n          marginHorizontal: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 27\n        }\n      }, (item.cityDays - 1) * 8, \" Hours\"), React.createElement(Text, {\n        style: {\n          fontSize: 12,\n          marginHorizontal: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 27\n        }\n      }, \"Average hours spent on Sleeping\")))), React.createElement(Surface, {\n        style: {\n          elevation: 10,\n          marginHorizontal: 20,\n          height: 90,\n          borderRadius: 20,\n          marginBottom: 18,\n          justifyContent: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 21\n        }\n      }, React.createElement(View, {\n        style: {\n          flexDirection: \"row\",\n          alignItems: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 23\n        }\n      }, React.createElement(View, {\n        style: {\n          height: WIDTH / 10,\n          width: WIDTH / 10,\n          borderRadius: 10,\n          marginHorizontal: 20,\n          backgroundColor: \"#58508d\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 25\n        }\n      }), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontWeight: \"bold\",\n          fontSize: 18,\n          marginHorizontal: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 27\n        }\n      }, \"20 Hours\"), React.createElement(Text, {\n        style: {\n          fontSize: 12,\n          marginHorizontal: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 27\n        }\n      }, \"Average hours spent on Transit to Airport\")))), React.createElement(Surface, {\n        style: {\n          elevation: 10,\n          marginHorizontal: 20,\n          height: 90,\n          borderRadius: 20,\n          marginBottom: 18,\n          justifyContent: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 21\n        }\n      }, React.createElement(View, {\n        style: {\n          flexDirection: \"row\",\n          alignItems: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 23\n        }\n      }, React.createElement(View, {\n        style: {\n          height: WIDTH / 10,\n          width: WIDTH / 10,\n          borderRadius: 10,\n          marginHorizontal: 20,\n          backgroundColor: \"#bc5090\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 25\n        }\n      }), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontWeight: \"bold\",\n          fontSize: 18,\n          marginHorizontal: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 27\n        }\n      }, item.cityDays * 2, \" Hours\"), React.createElement(Text, {\n        style: {\n          fontSize: 12,\n          marginHorizontal: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 27\n        }\n      }, \"Average hours spent on Leisure\")))), React.createElement(Surface, {\n        style: {\n          elevation: 5,\n          marginHorizontal: 20,\n          height: 90,\n          borderRadius: 20,\n          marginBottom: 4,\n          justifyContent: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 21\n        }\n      }, React.createElement(View, {\n        style: {\n          flexDirection: \"row\",\n          alignItems: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 23\n        }\n      }, React.createElement(View, {\n        style: {\n          height: WIDTH / 10,\n          width: WIDTH / 10,\n          borderRadius: 10,\n          marginHorizontal: 20,\n          backgroundColor: \"#ff6361\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 25\n        }\n      }), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontWeight: \"bold\",\n          fontSize: 18,\n          marginHorizontal: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 27\n        }\n      }, item.cityDays * 3, \" Hours\"), React.createElement(Text, {\n        style: {\n          fontSize: 12,\n          marginHorizontal: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 27\n        }\n      }, \"Average hours spent on Breakfast,Lunch,Dinner\"))))));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 11\n    }\n  }))), React.createElement(View, {\n    style: {\n      bottom: 0,\n      width: WIDTH,\n      backgroundColor: \"#fff\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 511,\n      columnNumber: 7\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: {\n      flex: 1.5\n    },\n    onPress: function onPress() {\n      var user = firebase.auth().currentUser;\n      var userID = user.uid;\n      console.log(userID);\n      firebase.database().ref(\"self-planned-tours/\" + userID).push({\n        details: details,\n        tourDetails: empty\n      }).then(function (data) {\n        return console.log(data);\n      }).catch(function (err) {\n        return console.log(err);\n      });\n      firebase.database().ref(\"self-planned-tours-admin/\" + userID).push({\n        details: details,\n        tourDetails: cityTourNames\n      }).then(function (data) {\n        return console.log(data);\n      }).catch(function (err) {\n        return console.log(err);\n      });\n      alert(\"Query Submitted\");\n      navigation.navigate(\"Home\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: {\n      backgroundColor: \"#28C9E1\",\n      borderRadius: 10,\n      padding: 15,\n      alignItems: \"center\",\n      marginRight: 15,\n      marginLeft: 15,\n      marginVertical: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 15,\n      color: \"white\",\n      fontFamily: \"Avenir\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 553,\n      columnNumber: 13\n    }\n  }, \"Submit Query\")))));\n};\n\nexport default ProgressScreen;","map":{"version":3,"sources":["/Users/aravshrimath/Documents/Mobile Application/touron-mobile-app/src/Screens/CheckoutScreens/ProgressScreen.js"],"names":["React","useState","useEffect","useContext","firebase","ScrollView","FlatList","ProgressCircle","WIDTH","Dimensions","get","width","HEIGHT","height","PieChart","Surface","SelfTourContext","ProgressScreen","navigation","route","details","finalTour","params","selectedTours","cityDetails","cityTourNames","forEach","tour","push","cityName","tourName","console","log","empty","city","CITYNAME","name","arr3","filter","includes","specificCityTours","tours","cityTourDurations","c","tourduration","durations","t","length","duration","slice","tourDurations","cityTourDetails","cityDays","days","flex","alignItems","justifyContent","backgroundColor","fontSize","color","borderTopLeftRadius","top","borderWidth","borderColor","borderTopRightRadius","item","data","colors","pieData","value","map","index","svg","fill","onPress","key","position","zIndex","marginTop","elevation","borderRadius","fontFamily","paddingBottom","paddingHorizontal","paddingVertical","marginHorizontal","marginVertical","marginBottom","flexDirection","fontWeight","bottom","user","auth","currentUser","userID","uid","database","ref","tourDetails","then","catch","err","alert","navigate","padding","marginRight","marginLeft"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport {\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  Image,\r\n  TouchableOpacity,\r\n  Button,\r\n  Dimensions,\r\n  Alert,\r\n} from \"react-native\";\r\nimport * as firebase from \"firebase\";\r\n\r\nimport { ScrollView, FlatList } from \"react-native-gesture-handler\";\r\nimport { ProgressCircle } from \"react-native-svg-charts\";\r\nconst WIDTH = Dimensions.get(\"window\").width;\r\nconst HEIGHT = Dimensions.get(\"window\").height;\r\nimport { PieChart } from \"react-native-svg-charts\";\r\nimport { Surface } from \"react-native-paper\";\r\nimport { SelfTourContext } from \"../../context/SelfTourContext\";\r\n\r\nconst ProgressScreen = ({ navigation, route }) => {\r\n  const { details } = useContext(SelfTourContext);\r\n  const finalTour = route.params.selectedTours;\r\n  const cityDetails = route.params.cityDetails;\r\n\r\n  const cityTourNames = [];\r\n\r\n  finalTour.forEach((tour) => {\r\n    cityTourNames.push({\r\n      cityName: tour.cityName,\r\n      tourName: tour.tourName,\r\n    });\r\n  });\r\n\r\n  console.log(cityTourNames);\r\n  //console.log(demo);\r\n  console.log(finalTour, \"LLLLL\");\r\n  let empty = {};\r\n\r\n  cityDetails.forEach((city) => {\r\n    const CITYNAME = city.name;\r\n    const arr3 = finalTour.filter((tour) => {\r\n      return CITYNAME.includes(tour.cityName);\r\n    });\r\n    console.log(arr3);\r\n\r\n    empty[CITYNAME] = arr3;\r\n  });\r\n\r\n  console.log(empty, \"Empty\");\r\n\r\n  // Filtering specific city and tours\r\n\r\n  let specificCityTours = [];\r\n\r\n  cityDetails.forEach((city) => {\r\n    const CITYNAME = city.name;\r\n    const arr3 = finalTour.filter((tour) => {\r\n      return CITYNAME.includes(tour.cityName);\r\n    });\r\n    specificCityTours.push({\r\n      cityName: city.name,\r\n      tours: arr3,\r\n    });\r\n  });\r\n  //console.log(specificCityTours, \"SJSJSJSJSJSJ\");\r\n\r\n  // calculating specific city tours duratiom\r\n\r\n  let cityTourDurations = [];\r\n  specificCityTours.forEach((c) => {\r\n    let tourduration = 0;\r\n    const durations = c.tours.forEach((t) => {\r\n      let length = t.duration.length;\r\n      tourduration +=\r\n        length < 11 ? t.duration.slice(2, 4) * 1 : t.duration.slice(3, 5) * 1;\r\n      return tourduration;\r\n    });\r\n\r\n    cityTourDurations.push({\r\n      cityName: c.cityName,\r\n      tourDurations: tourduration,\r\n    });\r\n  });\r\n\r\n  // combining city days and that city durations\r\n\r\n  let cityTourDetails = [];\r\n  cityTourDurations.forEach((c) => {\r\n    let city = {};\r\n    cityDetails.forEach((t) => {\r\n      // console.log(t.name, c.cityName);\r\n      if (t.name == c.cityName) {\r\n        city = {\r\n          cityName: t.name,\r\n          tourDurations: c.tourDurations,\r\n          cityDays: t.days,\r\n        };\r\n      }\r\n    });\r\n    //  console.log(city);\r\n    cityTourDetails.push(city);\r\n  });\r\n\r\n  //  console.log(cityTourDetails, \"KKKKKvhjgvgvgv\");\r\n  return (\r\n    <ScrollView>\r\n      <View\r\n        style={{\r\n          flex: 1,\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n          backgroundColor: \"#FFF\",\r\n        }}\r\n      >\r\n        <View\r\n          style={{\r\n            width: WIDTH,\r\n            height: HEIGHT / 4,\r\n            backgroundColor: \"#28C9E1\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n          }}\r\n        >\r\n          <Text style={{ fontSize: 20, color: \"#FFF\" }}>Progress Page</Text>\r\n        </View>\r\n        <View\r\n          style={{\r\n            borderTopLeftRadius: 40,\r\n            width: WIDTH,\r\n            alignItems: \"center\",\r\n            top: -25,\r\n            borderWidth: 2,\r\n            borderColor: \"#FFF\",\r\n            borderTopRightRadius: 30,\r\n            backgroundColor: \"#FFF\",\r\n          }}\r\n        >\r\n          <FlatList\r\n            data={cityTourDetails}\r\n            showsHorizontalScrollIndicator={false}\r\n            horizontal\r\n            pagingEnabled\r\n            keyExtractor={(item) => item.cityName}\r\n            renderItem={({ item }) => {\r\n              const data = [\r\n                (item.cityDays - 1) * 8,\r\n                20,\r\n                item.cityDays * 2,\r\n                item.cityDays * 3,\r\n                item.tourDurations,\r\n              ];\r\n\r\n              const colors = [\r\n                \"#47B39C\",\r\n                \"#58508d\",\r\n                \"#bc5090\",\r\n                \"#ff6361\",\r\n                \"#ffa600\",\r\n              ];\r\n              // console.log(data);\r\n\r\n              const pieData = data\r\n                .filter((value) => value > 0)\r\n                .map((value, index) => ({\r\n                  value,\r\n                  svg: {\r\n                    fill: colors[index],\r\n                    onPress: () => (\r\n                      <View>\r\n                        <Text>Airport</Text>\r\n                      </View>\r\n                    ),\r\n                  },\r\n                  key: `pie-${index}`,\r\n                }));\r\n\r\n              return (\r\n                <View\r\n                  style={{\r\n                    flex: 1,\r\n                    width: WIDTH,\r\n                    justifyContent: \"center\",\r\n                    borderColor: \"#FFF\",\r\n                  }}\r\n                >\r\n                  <View\r\n                    style={{\r\n                      position: \"relative\",\r\n                      zIndex: 0,\r\n                      marginTop: 40,\r\n                      alignItems: \"center\",\r\n                    }}\r\n                  >\r\n                    <Surface\r\n                      style={{\r\n                        elevation: 15,\r\n                        height: HEIGHT * 0.5,\r\n                        width: WIDTH * 0.8,\r\n                        borderRadius: 25,\r\n                        backgroundColor: \"#FFF\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"center\",\r\n                      }}\r\n                    >\r\n                      <Text\r\n                        style={{\r\n                          fontSize: 20,\r\n                          color: \"#B6BCC4\",\r\n                          fontFamily: \"Avenir\",\r\n                        }}\r\n                      >\r\n                        Destination\r\n                      </Text>\r\n                      <Text\r\n                        style={{\r\n                          fontSize: 30,\r\n                          color: \"#626E7B\",\r\n                          paddingBottom: 30,\r\n                          fontFamily: \"Avenir\",\r\n                        }}\r\n                      >\r\n                        {item.cityName}\r\n                      </Text>\r\n                      <PieChart\r\n                        innerRadius={1}\r\n                        style={{ height: 200, width: 200 }}\r\n                        data={pieData}\r\n                      />\r\n                      <View\r\n                        style={{\r\n                          backgroundColor: \"#F1F3F6\",\r\n                          borderRadius: 20,\r\n                          marginTop: 20,\r\n                          paddingHorizontal: 20,\r\n                          paddingVertical: 8,\r\n                        }}\r\n                      >\r\n                        <Text\r\n                          style={{\r\n                            fontSize: 18,\r\n                            color: \"#626E7B\",\r\n                            fontFamily: \"Avenir\",\r\n                          }}\r\n                        >\r\n                          {item.cityDays} Days\r\n                        </Text>\r\n                      </View>\r\n                    </Surface>\r\n                  </View>\r\n                  <View style={{ marginHorizontal: 20, marginVertical: 20 }}>\r\n                    <Text style={{ fontSize: 30, color: \"#626E7B\" }}>\r\n                      Legends\r\n                    </Text>\r\n                  </View>\r\n                  <View style={{}}>\r\n                    <Surface\r\n                      style={{\r\n                        elevation: 10,\r\n                        marginHorizontal: 20,\r\n                        height: 90,\r\n                        borderRadius: 20,\r\n                        marginBottom: 18,\r\n                        justifyContent: \"center\",\r\n                      }}\r\n                    >\r\n                      <View\r\n                        style={{\r\n                          flexDirection: \"row\",\r\n                          alignItems: \"center\",\r\n                        }}\r\n                      >\r\n                        <View\r\n                          style={{\r\n                            height: WIDTH / 10,\r\n                            width: WIDTH / 10,\r\n                            borderRadius: 10,\r\n                            marginHorizontal: 20,\r\n                            backgroundColor: \"#ffa600\",\r\n                          }}\r\n                        ></View>\r\n                        {/* <Image\r\n                          style={{ height: 50, width: 50 }}\r\n                          source={require(\"../../../assets/LIGHT/ICONS/24/Signs.png\")}\r\n                        /> */}\r\n                        <View>\r\n                          <Text\r\n                            style={{\r\n                              fontWeight: \"bold\",\r\n                              fontSize: 18,\r\n                              marginHorizontal: 5,\r\n                            }}\r\n                          >\r\n                            {item.tourDurations} Hours\r\n                          </Text>\r\n                          <Text\r\n                            style={{\r\n                              fontSize: 12,\r\n                              marginHorizontal: 5,\r\n                            }}\r\n                          >\r\n                            Total Tour Hours based on your selection\r\n                          </Text>\r\n                        </View>\r\n                      </View>\r\n                    </Surface>\r\n                    <Surface\r\n                      style={{\r\n                        elevation: 10,\r\n                        marginHorizontal: 20,\r\n                        height: 90,\r\n                        borderRadius: 20,\r\n                        marginBottom: 25,\r\n                        justifyContent: \"center\",\r\n                      }}\r\n                    >\r\n                      <View\r\n                        style={{\r\n                          flexDirection: \"row\",\r\n                          alignItems: \"center\",\r\n                        }}\r\n                      >\r\n                        <View\r\n                          style={{\r\n                            height: WIDTH / 10,\r\n                            width: WIDTH / 10,\r\n                            borderRadius: 10,\r\n                            marginHorizontal: 20,\r\n                            backgroundColor: \"#47B39C\",\r\n                          }}\r\n                        ></View>\r\n                        {/* <Image\r\n                          style={{ height: 50, width: 50 }}\r\n                          source={require(\"../../../assets/LIGHT/ICONS/24/Bed.png\")}\r\n                        /> */}\r\n                        <View>\r\n                          <Text\r\n                            style={{\r\n                              fontWeight: \"bold\",\r\n                              fontSize: 18,\r\n                              marginHorizontal: 5,\r\n                            }}\r\n                          >\r\n                            {(item.cityDays - 1) * 8} Hours\r\n                          </Text>\r\n                          <Text\r\n                            style={{\r\n                              fontSize: 12,\r\n                              marginHorizontal: 5,\r\n                            }}\r\n                          >\r\n                            Average hours spent on Sleeping\r\n                          </Text>\r\n                        </View>\r\n                      </View>\r\n                    </Surface>\r\n                    <Surface\r\n                      style={{\r\n                        elevation: 10,\r\n                        marginHorizontal: 20,\r\n                        height: 90,\r\n                        borderRadius: 20,\r\n                        marginBottom: 18,\r\n                        justifyContent: \"center\",\r\n                      }}\r\n                    >\r\n                      <View\r\n                        style={{\r\n                          flexDirection: \"row\",\r\n                          alignItems: \"center\",\r\n                        }}\r\n                      >\r\n                        <View\r\n                          style={{\r\n                            height: WIDTH / 10,\r\n                            width: WIDTH / 10,\r\n                            borderRadius: 10,\r\n                            marginHorizontal: 20,\r\n                            backgroundColor: \"#58508d\",\r\n                          }}\r\n                        ></View>\r\n                        {/* <Image\r\n                          style={{ height: 50, width: 50 }}\r\n                          source={require(\"../../../assets/LIGHT/ICONS/24/Airplane.png\")}\r\n                        /> */}\r\n                        <View>\r\n                          <Text\r\n                            style={{\r\n                              fontWeight: \"bold\",\r\n                              fontSize: 18,\r\n                              marginHorizontal: 5,\r\n                            }}\r\n                          >\r\n                            20 Hours\r\n                          </Text>\r\n                          <Text\r\n                            style={{\r\n                              fontSize: 12,\r\n                              marginHorizontal: 5,\r\n                            }}\r\n                          >\r\n                            Average hours spent on Transit to Airport\r\n                          </Text>\r\n                        </View>\r\n                      </View>\r\n                    </Surface>\r\n                    <Surface\r\n                      style={{\r\n                        elevation: 10,\r\n                        marginHorizontal: 20,\r\n                        height: 90,\r\n                        borderRadius: 20,\r\n                        marginBottom: 18,\r\n                        justifyContent: \"center\",\r\n                      }}\r\n                    >\r\n                      <View\r\n                        style={{\r\n                          flexDirection: \"row\",\r\n                          alignItems: \"center\",\r\n                        }}\r\n                      >\r\n                        <View\r\n                          style={{\r\n                            height: WIDTH / 10,\r\n                            width: WIDTH / 10,\r\n                            borderRadius: 10,\r\n                            marginHorizontal: 20,\r\n                            backgroundColor: \"#bc5090\",\r\n                          }}\r\n                        ></View>\r\n                        <View>\r\n                          <Text\r\n                            style={{\r\n                              fontWeight: \"bold\",\r\n                              fontSize: 18,\r\n                              marginHorizontal: 5,\r\n                            }}\r\n                          >\r\n                            {item.cityDays * 2} Hours\r\n                          </Text>\r\n                          <Text\r\n                            style={{\r\n                              fontSize: 12,\r\n                              marginHorizontal: 5,\r\n                            }}\r\n                          >\r\n                            Average hours spent on Leisure\r\n                          </Text>\r\n                        </View>\r\n                      </View>\r\n                    </Surface>\r\n                    <Surface\r\n                      style={{\r\n                        elevation: 5,\r\n                        marginHorizontal: 20,\r\n                        height: 90,\r\n                        borderRadius: 20,\r\n                        marginBottom: 4,\r\n                        justifyContent: \"center\",\r\n                      }}\r\n                    >\r\n                      <View\r\n                        style={{\r\n                          flexDirection: \"row\",\r\n                          alignItems: \"center\",\r\n                        }}\r\n                      >\r\n                        <View\r\n                          style={{\r\n                            height: WIDTH / 10,\r\n                            width: WIDTH / 10,\r\n                            borderRadius: 10,\r\n                            marginHorizontal: 20,\r\n                            backgroundColor: \"#ff6361\",\r\n                          }}\r\n                        ></View>\r\n                        {/* <Image\r\n                          style={{ height: 50, width: 50 }}\r\n                          source={require(\"../../../assets/LIGHT/ICONS/24/Restaurant.png\")}\r\n                        /> */}\r\n                        <View>\r\n                          <Text\r\n                            style={{\r\n                              fontWeight: \"bold\",\r\n                              fontSize: 18,\r\n                              marginHorizontal: 5,\r\n                            }}\r\n                          >\r\n                            {item.cityDays * 3} Hours\r\n                          </Text>\r\n                          <Text\r\n                            style={{\r\n                              fontSize: 12,\r\n                              marginHorizontal: 5,\r\n                            }}\r\n                          >\r\n                            Average hours spent on Breakfast,Lunch,Dinner\r\n                          </Text>\r\n                        </View>\r\n                      </View>\r\n                    </Surface>\r\n                  </View>\r\n                </View>\r\n              );\r\n            }}\r\n          />\r\n        </View>\r\n      </View>\r\n      <View style={{ bottom: 0, width: WIDTH, backgroundColor: \"#fff\" }}>\r\n        <TouchableOpacity\r\n          style={{ flex: 1.5 }}\r\n          onPress={() => {\r\n            const user = firebase.auth().currentUser;\r\n            //  console.log(user, \"GHGHGHJGHJHGGHJHHGHGGHHJGGHJHJGGHGH\");\r\n            const userID = user.uid;\r\n            console.log(userID);\r\n            firebase\r\n              .database()\r\n              .ref(`self-planned-tours/${userID}`)\r\n              .push({\r\n                details: details,\r\n                tourDetails: empty,\r\n              })\r\n              .then((data) => console.log(data))\r\n              .catch((err) => console.log(err));\r\n            firebase\r\n              .database()\r\n              .ref(`self-planned-tours-admin/${userID}`)\r\n              .push({\r\n                details: details,\r\n                tourDetails: cityTourNames,\r\n              })\r\n              .then((data) => console.log(data))\r\n              .catch((err) => console.log(err));\r\n            alert(\"Query Submitted\");\r\n\r\n            navigation.navigate(\"Home\");\r\n          }}\r\n        >\r\n          <View\r\n            style={{\r\n              backgroundColor: \"#28C9E1\",\r\n              borderRadius: 10,\r\n              padding: 15,\r\n              alignItems: \"center\",\r\n              marginRight: 15,\r\n              marginLeft: 15,\r\n              marginVertical: 10,\r\n            }}\r\n          >\r\n            <Text\r\n              style={{\r\n                fontSize: 15,\r\n                color: \"white\",\r\n                fontFamily: \"Avenir\",\r\n              }}\r\n            >\r\n              Submit Query\r\n            </Text>\r\n          </View>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </ScrollView>\r\n  );\r\n};\r\n\r\nexport default ProgressScreen;\r\n"]},"metadata":{},"sourceType":"module"}