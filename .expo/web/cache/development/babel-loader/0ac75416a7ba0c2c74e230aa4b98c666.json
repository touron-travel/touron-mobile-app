{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/aravshrimath/Documents/Mobile Application/touron-mobile-app/App.js\";\nimport YellowBox from \"react-native-web/dist/exports/YellowBox\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nYellowBox.ignoreWarnings([\"Remote debugger\"]);\nYellowBox.ignoreWarnings([\"Setting a timer\"]);\nimport { MaterialCommunityIcons } from \"@expo/vector-icons\";\nimport React, { useState, useEffect, useMemo } from \"react\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { createDrawerNavigator } from \"@react-navigation/drawer\";\nimport DrawerContent from \"./src/Screens/DrawerContent\";\nimport { RootStackScreen } from \"./src/Screens/RootStackScreen\";\nimport { AuthContext } from \"./src/context/AuthContext\";\nvar WIDTH = Dimensions.get(\"window\").width;\nvar HEIGHT = Dimensions.get(\"window\").height;\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport Animated from \"react-native-reanimated\";\nimport * as Font from \"expo-font\";\nimport firebase from \"firebase\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport MyRequestScreen from \"./src/Screens/AccountScreens/MyRequestScreen\";\nimport MyPlansScreen from \"./src/Screens/AccountScreens/MyPlansScreen\";\nimport ProfileScreen from \"./src/Screens/AccountScreens/ProfileScreen\";\nimport VisaDetailsScreen from \"./src/Screens/AccountScreens/VisaDetailsScreen\";\nimport WishListScreen from \"./src/Screens/AccountScreens/WishListScreen\";\nimport RequestInner from \"./src/Screens/AccountScreens/RequestInner\";\nimport VisaInner from \"./src/Screens/AccountScreens/VisaInner\";\nimport touron from \"./src/api/touron\";\nimport MyVisaRequestsScreen from \"./src/Screens/AccountScreens/MyVisaRequests\";\nimport * as Network from \"expo-network\";\nvar firebaseConfig = {\n  apiKey: \"AIzaSyCCZ2bo_iPbtvarsADQe84qX2s9cWPMq3U\",\n  authDomain: \"touronapp-248e4.firebaseapp.com\",\n  databaseURL: \"https://touronapp-248e4.firebaseio.com\",\n  projectId: \"touronapp-248e4\",\n  storageBucket: \"touronapp-248e4.appspot.com\",\n  messagingSenderId: \"813320271971\",\n  appId: \"1:813320271971:web:5a10483e3c11bc953aa056\",\n  measurementId: \"G-KCPSW6WFC9\"\n};\nfirebase.initializeApp(firebaseConfig);\nvar Drawer = createDrawerNavigator();\n\nvar App = function App(props) {\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isLoggedIn = _useState4[0],\n      setIsLoggedIn = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isAdmin = _useState6[0],\n      setIsAdmin = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      tours = _useState8[0],\n      setTour = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      countries = _useState10[0],\n      setCountries = _useState10[1];\n\n  var _useState11 = useState(true),\n      _useState12 = _slicedToArray(_useState11, 2),\n      appLoading = _useState12[0],\n      setAppLoading = _useState12[1];\n\n  var _useState13 = useState(true),\n      _useState14 = _slicedToArray(_useState13, 2),\n      status = _useState14[0],\n      setStatus = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      networkLoader = _useState16[0],\n      setNetworkLoader = _useState16[1];\n\n  var _useState17 = useState([]),\n      _useState18 = _slicedToArray(_useState17, 2),\n      cities = _useState18[0],\n      setCities = _useState18[1];\n\n  useEffect(function () {\n    getNetwork();\n  }, []);\n  useEffect(function () {\n    var mounted = true;\n\n    if (mounted) {\n      getTours();\n      getCities();\n      firebase.auth().onAuthStateChanged(function (user) {\n        setUser(user);\n      });\n    }\n\n    return function () {\n      return mounted = false;\n    };\n  }, []);\n\n  var getNetwork = function getNetwork() {\n    var status;\n    return _regeneratorRuntime.async(function getNetwork$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setNetworkLoader(true);\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(Network.getNetworkStateAsync());\n\n          case 3:\n            status = _context.sent.isConnected;\n            console.log(status, \"STATUS\");\n            setStatus(status);\n            setNetworkLoader(false);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var getTours = function getTours() {\n    var tourResponse;\n    return _regeneratorRuntime.async(function getTours$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(touron.get(\"/tour\"));\n\n          case 2:\n            tourResponse = _context2.sent;\n            setTour(tourResponse.data);\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var getCountries = function getCountries() {\n    var countryResponse;\n    return _regeneratorRuntime.async(function getCountries$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regeneratorRuntime.awrap(touron.get(\"/country\"));\n\n          case 2:\n            countryResponse = _context3.sent;\n            setCountries(countryResponse.data);\n\n          case 4:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var getCities = function getCities() {\n    var cityResponse;\n    return _regeneratorRuntime.async(function getCities$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return _regeneratorRuntime.awrap(touron.get(\"/city\"));\n\n          case 2:\n            cityResponse = _context4.sent;\n            setCities(cityResponse.data);\n\n          case 4:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var getToken = function getToken() {\n    var data, userToken;\n    return _regeneratorRuntime.async(function getToken$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.prev = 0;\n            _context5.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"userToken\"));\n\n          case 3:\n            data = _context5.sent;\n            userToken = JSON.parse(data);\n\n            if (userToken !== null) {\n              setUser(userToken);\n              setIsLoggedIn(true);\n            }\n\n            _context5.next = 11;\n            break;\n\n          case 8:\n            _context5.prev = 8;\n            _context5.t0 = _context5[\"catch\"](0);\n            console.log(_context5.t0);\n\n          case 11:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  };\n\n  var showImage = function showImage() {\n    setTimeout(function () {\n      setAppLoading(false);\n    }, 2000);\n  };\n\n  var getUserData = function getUserData() {\n    if (user !== null) {\n      firebase.database().ref(\"userGeneralInfo/\" + user.uid).on(\"value\", function (data) {\n        if (data.val() !== null) {\n          var val = data.val();\n          setIsAdmin(val.admin);\n        }\n      });\n    }\n  };\n\n  useEffect(function () {\n    showImage();\n  });\n  useEffect(function () {\n    var mounted = true;\n\n    if (mounted) {\n      getToken();\n      getCountries();\n      getUserData();\n    }\n\n    return function () {\n      return mounted = false;\n    };\n  }, []);\n\n  if (appLoading) {\n    return React.createElement(View, {\n      style: {\n        backgroundColor: \"white\",\n        flex: 1,\n        alignItems: \"center\",\n        justifyContent: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 7\n      }\n    }, React.createElement(Image, {\n      source: require(\"./assets/logo.jpeg\"),\n      style: {\n        width: WIDTH,\n        height: HEIGHT / 2\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(StatusBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }\n  }), !status ? React.createElement(View, {\n    style: {\n      flex: 1,\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 9\n    }\n  }, React.createElement(Image, {\n    style: {\n      height: WIDTH * 0.8,\n      width: WIDTH * 0.8,\n      marginTop: HEIGHT / 6\n    },\n    source: require(\"./assets/oops.jpg\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 11\n    }\n  }), networkLoader ? React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      getNetwork();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }\n  }, React.createElement(ActivityIndicator, {\n    size: \"large\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 15\n    }\n  })) : React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      getNetwork();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 13\n    }\n  }, React.createElement(MaterialCommunityIcons, {\n    name: \"reload\",\n    size: 40,\n    color: \"black\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 15\n    }\n  }))) : React.createElement(AuthContext.Provider, {\n    value: {\n      isLoggedIn: isLoggedIn,\n      setIsLoggedIn: setIsLoggedIn,\n      user: user,\n      setUser: setUser,\n      tours: tours,\n      cities: cities,\n      countries: countries\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }\n  }, React.createElement(NavigationContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 11\n    }\n  }, React.createElement(Drawer.Navigator, {\n    drawerType: \"slides\",\n    screenOptions: {\n      gestureEnabled: true\n    },\n    edgeWidth: 0,\n    drawerStyle: {\n      backgroundColor: \"#000000\",\n      width: WIDTH * 0.75,\n      opacity: 0.6,\n      zIndex: 2\n    },\n    overlayColor: 0,\n    drawerContent: function drawerContent(props) {\n      return React.createElement(DrawerContent, _extends({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 41\n        }\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 13\n    }\n  }, React.createElement(Drawer.Screen, {\n    name: \"HomeDrawer\",\n    component: RootStackScreen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 15\n    }\n  }), React.createElement(Drawer.Screen, {\n    name: \"MyRequest\",\n    component: MyRequestScreen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 15\n    }\n  }), React.createElement(Drawer.Screen, {\n    name: \"MyVisaRequestScreen\",\n    component: MyVisaRequestsScreen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 15\n    }\n  }), React.createElement(Drawer.Screen, {\n    name: \"MyPlans\",\n    component: MyPlansScreen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 15\n    }\n  }), React.createElement(Drawer.Screen, {\n    name: \"Profile\",\n    component: ProfileScreen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 15\n    }\n  }), React.createElement(Drawer.Screen, {\n    name: \"Visa\",\n    component: VisaDetailsScreen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 15\n    }\n  }), React.createElement(Drawer.Screen, {\n    name: \"VisaInner\",\n    component: VisaInner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 15\n    }\n  }), React.createElement(Drawer.Screen, {\n    name: \"WishList\",\n    component: WishListScreen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 15\n    }\n  }), React.createElement(Drawer.Screen, {\n    name: \"RequestInner\",\n    component: RequestInner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 15\n    }\n  })))));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/aravshrimath/Documents/Mobile Application/touron-mobile-app/App.js"],"names":["YellowBox","ignoreWarnings","MaterialCommunityIcons","React","useState","useEffect","useMemo","NavigationContainer","createDrawerNavigator","DrawerContent","RootStackScreen","AuthContext","WIDTH","Dimensions","get","width","HEIGHT","height","AsyncStorage","Animated","Font","firebase","createStackNavigator","MyRequestScreen","MyPlansScreen","ProfileScreen","VisaDetailsScreen","WishListScreen","RequestInner","VisaInner","touron","MyVisaRequestsScreen","Network","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","Drawer","App","props","user","setUser","isLoggedIn","setIsLoggedIn","isAdmin","setIsAdmin","tours","setTour","countries","setCountries","appLoading","setAppLoading","status","setStatus","networkLoader","setNetworkLoader","cities","setCities","getNetwork","mounted","getTours","getCities","auth","onAuthStateChanged","getNetworkStateAsync","isConnected","console","log","tourResponse","data","getCountries","countryResponse","cityResponse","getToken","getItem","userToken","JSON","parse","showImage","setTimeout","getUserData","database","ref","uid","on","val","admin","backgroundColor","flex","alignItems","justifyContent","require","marginTop","gestureEnabled","opacity","zIndex"],"mappings":"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","sourcesContent":["import {\n  YellowBox,\n  Dimensions,\n  View,\n  ActivityIndicator,\n  Image,\n  StatusBar,\n  TouchableOpacity,\n} from \"react-native\";\nYellowBox.ignoreWarnings([\"Remote debugger\"]);\nYellowBox.ignoreWarnings([\"Setting a timer\"]);\nimport { MaterialCommunityIcons } from \"@expo/vector-icons\";\n\nimport React, { useState, useEffect, useMemo } from \"react\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { createDrawerNavigator } from \"@react-navigation/drawer\";\nimport DrawerContent from \"./src/Screens/DrawerContent\";\nimport { RootStackScreen } from \"./src/Screens/RootStackScreen\";\nimport { AuthContext } from \"./src/context/AuthContext\";\nconst WIDTH = Dimensions.get(\"window\").width;\nconst HEIGHT = Dimensions.get(\"window\").height;\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport Animated from \"react-native-reanimated\";\nimport * as Font from \"expo-font\";\n\nimport firebase from \"firebase\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport MyRequestScreen from \"./src/Screens/AccountScreens/MyRequestScreen\";\nimport MyPlansScreen from \"./src/Screens/AccountScreens/MyPlansScreen\";\nimport ProfileScreen from \"./src/Screens/AccountScreens/ProfileScreen\";\nimport VisaDetailsScreen from \"./src/Screens/AccountScreens/VisaDetailsScreen\";\nimport WishListScreen from \"./src/Screens/AccountScreens/WishListScreen\";\nimport RequestInner from \"./src/Screens/AccountScreens/RequestInner\";\nimport VisaInner from \"./src/Screens/AccountScreens/VisaInner\";\nimport touron from \"./src/api/touron\";\nimport MyVisaRequestsScreen from \"./src/Screens/AccountScreens/MyVisaRequests\";\nimport * as Network from \"expo-network\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCCZ2bo_iPbtvarsADQe84qX2s9cWPMq3U\",\n  authDomain: \"touronapp-248e4.firebaseapp.com\",\n  databaseURL: \"https://touronapp-248e4.firebaseio.com\",\n  projectId: \"touronapp-248e4\",\n  storageBucket: \"touronapp-248e4.appspot.com\",\n  messagingSenderId: \"813320271971\",\n  appId: \"1:813320271971:web:5a10483e3c11bc953aa056\",\n  measurementId: \"G-KCPSW6WFC9\",\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nconst Drawer = createDrawerNavigator();\n\nconst App = (props) => {\n  // console.log(props.exp.notification, \"popoopppopopoopooppo\");\n  const [user, setUser] = useState({});\n  const [isLoggedIn, setIsLoggedIn] = useState(null);\n  // const [fontLoaded, setFont] = useState(false);\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [tours, setTour] = useState([]);\n  const [countries, setCountries] = useState([]);\n  const [appLoading, setAppLoading] = useState(true);\n  const [status, setStatus] = useState(true);\n  const [networkLoader, setNetworkLoader] = useState(false);\n  const [cities, setCities] = useState([]);\n\n  useEffect(() => {\n    getNetwork();\n  }, []);\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      getTours();\n      getCities();\n      firebase.auth().onAuthStateChanged((user) => {\n        setUser(user);\n      });\n    }\n    return () => (mounted = false);\n  }, []);\n\n  const getNetwork = async () => {\n    setNetworkLoader(true);\n    const status = (await Network.getNetworkStateAsync()).isConnected;\n    console.log(status, \"STATUS\");\n    setStatus(status);\n    setNetworkLoader(false);\n  };\n\n  const getTours = async () => {\n    const tourResponse = await touron.get(`/tour`);\n    // console.log(tourResponse.data, \"lpllplpll\");\n    setTour(tourResponse.data);\n  };\n\n  const getCountries = async () => {\n    const countryResponse = await touron.get(`/country`);\n    // console.log(countryResponse.data, \"lpllplpll\");\n    setCountries(countryResponse.data);\n  };\n  const getCities = async () => {\n    const cityResponse = await touron.get(`/city`);\n    // console.log(cityResponse.data, \"lpllplpll\");\n    setCities(cityResponse.data);\n  };\n\n  const getToken = async () => {\n    try {\n      const data = await AsyncStorage.getItem(\"userToken\");\n      const userToken = JSON.parse(data);\n      // console.log(userToken, \"TOKEnhdhdhdhdhhdhddh\");\n      if (userToken !== null) {\n        setUser(userToken);\n        setIsLoggedIn(true);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const showImage = () => {\n    setTimeout(() => {\n      setAppLoading(false);\n    }, 2000);\n  };\n\n  const getUserData = () => {\n    if (user !== null) {\n      firebase\n        .database()\n        .ref(`userGeneralInfo/${user.uid}`)\n        .on(\"value\", (data) => {\n          if (data.val() !== null) {\n            let val = data.val();\n            // console.log(val, \"VALUE\");\n            setIsAdmin(val.admin);\n          }\n        });\n    }\n  };\n\n  useEffect(() => {\n    showImage();\n  });\n\n  useEffect(() => {\n    let mounted = true;\n    if (mounted) {\n      getToken();\n      getCountries();\n\n      getUserData();\n    }\n    return () => (mounted = false);\n  }, []);\n\n  if (appLoading) {\n    return (\n      <View\n        style={{\n          backgroundColor: \"white\",\n          flex: 1,\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      >\n        <Image\n          source={require(\"./assets/logo.jpeg\")}\n          style={{ width: WIDTH, height: HEIGHT / 2 }}\n        />\n      </View>\n    );\n  }\n\n  return (\n    <>\n      <StatusBar />\n      {!status ? (\n        <View\n          style={{\n            flex: 1,\n            alignItems: \"center\",\n            justifyContent: \"center\",\n          }}\n        >\n          <Image\n            style={{\n              height: WIDTH * 0.8,\n              width: WIDTH * 0.8,\n              marginTop: HEIGHT / 6,\n            }}\n            source={require(\"./assets/oops.jpg\")}\n          />\n\n          {networkLoader ? (\n            <TouchableOpacity\n              onPress={() => {\n                getNetwork();\n              }}\n            >\n              <ActivityIndicator size=\"large\" />\n            </TouchableOpacity>\n          ) : (\n            <TouchableOpacity\n              onPress={() => {\n                getNetwork();\n              }}\n            >\n              <MaterialCommunityIcons name=\"reload\" size={40} color=\"black\" />\n            </TouchableOpacity>\n          )}\n        </View>\n      ) : (\n        <AuthContext.Provider\n          value={{\n            isLoggedIn,\n            setIsLoggedIn,\n            user,\n            setUser,\n            tours,\n            cities,\n            countries,\n          }}\n        >\n          <NavigationContainer>\n            <Drawer.Navigator\n              drawerType=\"slides\"\n              screenOptions={{\n                gestureEnabled: true,\n              }}\n              edgeWidth={0}\n              drawerStyle={{\n                backgroundColor: \"#000000\",\n                width: WIDTH * 0.75,\n                opacity: 0.6,\n                zIndex: 2,\n              }}\n              overlayColor={0}\n              drawerContent={(props) => <DrawerContent {...props} />}\n            >\n              <Drawer.Screen name=\"HomeDrawer\" component={RootStackScreen} />\n              <Drawer.Screen name=\"MyRequest\" component={MyRequestScreen} />\n              <Drawer.Screen\n                name=\"MyVisaRequestScreen\"\n                component={MyVisaRequestsScreen}\n              />\n              <Drawer.Screen name=\"MyPlans\" component={MyPlansScreen} />\n              <Drawer.Screen name=\"Profile\" component={ProfileScreen} />\n              <Drawer.Screen name=\"Visa\" component={VisaDetailsScreen} />\n              <Drawer.Screen name=\"VisaInner\" component={VisaInner} />\n              <Drawer.Screen name=\"WishList\" component={WishListScreen} />\n              <Drawer.Screen name=\"RequestInner\" component={RequestInner} />\n            </Drawer.Navigator>\n          </NavigationContainer>\n        </AuthContext.Provider>\n      )}\n    </>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}